<!DOCTYPE html><html lang="en"><head itemscope=""><script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"insights","name":"Insights"}},{"@type":"ListItem","position":2,"item":{"@id":"ClickHouse","name":"ClickHouse"}}]},{"@type":"BlogPosting","@id":"https://double.cloud/blog/posts/2023/06/chatgpt-clickhouse/","url":"https://double.cloud/blog/posts/2023/06/chatgpt-clickhouse/","name":"Can ChatGPT do ClickHouse?","headline":"Can ChatGPT do ClickHouse?","abstract":"<p>Written By: Stefan Kaeser, DoubleCloud Solution Architect</p>","description":"<p>Written By: Stefan Kaeser, DoubleCloud Solution Architect</p>","dateCreated":"2023-06-08T00:00:00Z","datePublished":"2023-06-08T00:00:00Z","dateModified":"2023-06-08T00:00:00Z","author":{"@type":"Organization","name":"DoubleCloud","legalName":"DoubleCloud Inc","url":"https://double.cloud/","logo":{"@type":"ImageObject","url":"","width":32,"height":32}},"creator":{"@type":"Organization","name":"DoubleCloud","legalName":"DoubleCloud Inc","url":"https://double.cloud/","logo":{"@type":"ImageObject","url":"","width":32,"height":32}},"publisher":{"@type":"Organization","name":"DoubleCloud","legalName":"DoubleCloud Inc","url":"https://double.cloud/","logo":{"@type":"ImageObject","url":"","width":32,"height":32}},"copyrightHolder":{"@type":"Organization","name":"DoubleCloud","legalName":"DoubleCloud Inc","url":"https://double.cloud/","logo":{"@type":"ImageObject","url":"","width":32,"height":32}},"copyrightYear":2025,"mainEntityOfPage":{"@type":"WebPage","@id":"https://double.cloud/blog/posts/2023/06/chatgpt-clickhouse/"},"inLanguage":{"@type":"Language","name":"English","alternateName":"en"},"keywords":["Insights","ClickHouse"],"image":"https://double.cloud/assets/blog/articles/chatgpt-clickhouse-small-cover.jpg","sharedContent":{"@type":"WebPage","headline":"Can ChatGPT do ClickHouse?","url":"https://double.cloud/blog/posts/2023/06/chatgpt-clickhouse/","author":{"@type":"Organization","name":"DoubleCloud","legalName":"DoubleCloud Inc","url":"https://double.cloud/","logo":{"@type":"ImageObject","url":"","width":32,"height":32}}},"wordCount":"","articleBody":""}]}</script><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Leveraging ChatGPT for seamless ClickHouse migrations: A new perspective | DoubleCloud</title><meta name="description" content="Discover the intriguing possibilities of using ChatGPT to simplify the complexities of migrating to ClickHouse. Dive into the challenges faced when transitioning from one DBMS to another and explore how AI, including ChatGPT, can potentially aid in code migration and query optimization. Is it time for DB experts to embrace AI&#x27;s assistance? Find out in this thought-provoking article."/><link rel="canonical" href="../chatgpt-clickhouse.html"/><meta itemProp="name" content="Can ChatGPT do ClickHouse?"/><meta itemProp="description" content="&lt;p&gt;Written By: Stefan Kaeser, DoubleCloud Solution Architect&lt;/p&gt;"/><meta itemProp="image" content="https://double.cloud/assets/blog/articles/chatgpt-clickhouse-sharing.jpg"/><meta property="og:type" content="website"/><meta property="og:url" content="https://double.cloud/blog/posts/2023/06/chatgpt-clickhouse/"/><meta property="og:title" content="Can ChatGPT do ClickHouse?"/><meta property="og:description" content="&lt;p&gt;Written By: Stefan Kaeser, DoubleCloud Solution Architect&lt;/p&gt;"/><meta property="og:image" content="https://double.cloud/assets/blog/articles/chatgpt-clickhouse-sharing.jpg"/><meta property="og:locale" content="en"/><meta property="og:site_name" content="DoubleCloud"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Can ChatGPT do ClickHouse?"/><meta name="twitter:description" content="&lt;p&gt;Written By: Stefan Kaeser, DoubleCloud Solution Architect&lt;/p&gt;"/><meta name="twitter:image" content="https://double.cloud/assets/blog/articles/chatgpt-clickhouse-sharing.jpg"/><meta name="keywords" content="chat-gpt,ai,sql"/><meta name="robots" content="follow, index"/><meta property="article:published_time" content="2023-06-08T00:00:00Z"/><meta property="article:author" content=""/><meta property="article:tag" content="Insights"/><meta property="article:tag" content="ClickHouse"/><meta name="next-head-count" content="26"/><link rel="icon" href="../../../../../assets/favicon/favicon.ico" sizes="any"/><link type="image/x-icon" rel="shortcut icon" href="../../../../../assets/favicon/favicon.ico"/><link type="image/png" sizes="16x16" rel="icon" href="../../../../../assets/favicon/favicon-16x16.png"/><link type="image/png" sizes="32x32" rel="icon" href="../../../../../assets/favicon/favicon-32x32.png"/><link type="image/png" sizes="120x120" rel="icon" href="../../../../../assets/favicon/favicon-120x120.png"/><link type="image/png" sizes="192x192" rel="icon" href="../../../../../assets/favicon/favicon-192x192.png"/><link type="image/png" sizes="76x76" rel="apple-touch-icon" href="https://double.cloud/assets/favicon/favicon-76x76.png"/><link type="image/png" sizes="152x152" rel="apple-touch-icon" href="../../../../../assets/favicon/favicon-152x152.png"/><link type="image/png" sizes="180x180" rel="apple-touch-icon" href="../../../../../assets/favicon/favicon-180x180.png"/><script id="data-google-tag-manager" nonce="IwFB4H/bcBx9EJ8mYMmg7w==" data-nonce="IwFB4H/bcBx9EJ8mYMmg7w==">
                // Define dataLayer and the gtag function.
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}

                // Default analytics_storage to 'denied'.
                window.gtag = window.gtag || gtag;

                const hasAnalyticsConsent = window?.localStorage.getItem('hasAnalyticsConsent');
                const consent =  hasAnalyticsConsent === 'true' ? 'granted' : 'denied';

                window.gtag('consent', 'default', {
                    'analytics_storage': consent,
                    'ad_storage': consent,
                    'wait_for_update': hasAnalyticsConsent === 'true' ? 0 : Infinity,
                });

                dataLayer.push({
                    'event': 'default_consent'
                });

                (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                'https://www.googletagmanager.com/gtm.js?id='+i+dl;var n=d.querySelector('[nonce]');
                n&&j.setAttribute('nonce',n.nonce||n.getAttribute('nonce'));f.parentNode.insertBefore(j,f);
                })(window,document,'script','dataLayer','GTM-5M39N8J');
            </script><script nonce="IwFB4H/bcBx9EJ8mYMmg7w==">window.__webpack_nonce__ = "IwFB4H/bcBx9EJ8mYMmg7w=="</script><link rel="preconnect" href="https://www.googletagmanager.com"/><link rel="preconnect" href="https://snap.licdn.com"/><link rel="preconnect" href="https://www.google.com"/><link nonce="IwFB4H/bcBx9EJ8mYMmg7w==" rel="preload" href="../../../../../_next/static/css/a4c87e381fd61058.css" as="style"/><link nonce="IwFB4H/bcBx9EJ8mYMmg7w==" rel="stylesheet" href="../../../../../_next/static/css/a4c87e381fd61058.css" data-n-g=""/><link nonce="IwFB4H/bcBx9EJ8mYMmg7w==" rel="preload" href="../../../../../_next/static/css/2facd84af36bff2e.css" as="style"/><link nonce="IwFB4H/bcBx9EJ8mYMmg7w==" rel="stylesheet" href="../../../../../_next/static/css/2facd84af36bff2e.css" data-n-p=""/><link nonce="IwFB4H/bcBx9EJ8mYMmg7w==" rel="preload" href="../../../../../_next/static/css/c413166e8b0da734.css" as="style"/><link nonce="IwFB4H/bcBx9EJ8mYMmg7w==" rel="stylesheet" href="../../../../../_next/static/css/c413166e8b0da734.css" data-n-p=""/><link nonce="IwFB4H/bcBx9EJ8mYMmg7w==" rel="preload" href="../../../../../_next/static/css/248e88462928fa2f.css" as="style"/><link nonce="IwFB4H/bcBx9EJ8mYMmg7w==" rel="stylesheet" href="../../../../../_next/static/css/248e88462928fa2f.css" data-n-p=""/><link nonce="IwFB4H/bcBx9EJ8mYMmg7w==" rel="preload" href="../../../../../_next/static/css/eb8a627e7f585420.css" as="style"/><link nonce="IwFB4H/bcBx9EJ8mYMmg7w==" rel="stylesheet" href="../../../../../_next/static/css/eb8a627e7f585420.css" data-n-p=""/><noscript data-n-css="IwFB4H/bcBx9EJ8mYMmg7w=="></noscript><script defer="" nonce="IwFB4H/bcBx9EJ8mYMmg7w==" nomodule="" src="../../../../../_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="../../../../../_next/static/chunks/webpack-d326a7489defa990.js" nonce="IwFB4H/bcBx9EJ8mYMmg7w==" defer=""></script><script src="../../../../../_next/static/chunks/framework-cc7effedd0fd3d95.js" nonce="IwFB4H/bcBx9EJ8mYMmg7w==" defer=""></script><script src="../../../../../_next/static/chunks/main-ebfff3515213fa2f.js" nonce="IwFB4H/bcBx9EJ8mYMmg7w==" defer=""></script><script src="../../../../../_next/static/chunks/pages/_app-4cd98c5be1eceb26.js" nonce="IwFB4H/bcBx9EJ8mYMmg7w==" defer=""></script><script src="../../../../../_next/static/chunks/f69bbb46-eed95df46583a2d8.js" nonce="IwFB4H/bcBx9EJ8mYMmg7w==" defer=""></script><script src="../../../../../_next/static/chunks/030d571f-c7510aa4f8d650e7.js" nonce="IwFB4H/bcBx9EJ8mYMmg7w==" defer=""></script><script src="../../../../../_next/static/chunks/193-fdb54e47dd6b7c7b.js" nonce="IwFB4H/bcBx9EJ8mYMmg7w==" defer=""></script><script src="../../../../../_next/static/chunks/756-04d1c95c632019ed.js" nonce="IwFB4H/bcBx9EJ8mYMmg7w==" defer=""></script><script src="../../../../../_next/static/chunks/387-27526d5e8e2a9173.js" nonce="IwFB4H/bcBx9EJ8mYMmg7w==" defer=""></script><script src="../../../../../_next/static/chunks/pages/blog/posts/[...slug]-896d627301783262.js" nonce="IwFB4H/bcBx9EJ8mYMmg7w==" defer=""></script><script src="../../../../../_next/static/HkxA3M0ES7gp3V0n_0ecw/_buildManifest.js" nonce="IwFB4H/bcBx9EJ8mYMmg7w==" defer=""></script><script src="../../../../../_next/static/HkxA3M0ES7gp3V0n_0ecw/_ssgManifest.js" nonce="IwFB4H/bcBx9EJ8mYMmg7w==" defer=""></script></head><body class="dc-root g-root g-root_theme_dark"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5M39N8J" title="Googletagmanager" height="0" width="0" style="display:none;visibility:hidden" loading="lazy"></iframe></noscript><div id="__next" data-reactroot=""><div class="layout"><div class="layout__content"><div class="g-root g-root_theme_dark pc-page-constructor"><div class="pc-page-constructor__wrapper"><div class="pc-layout"><div class="pc-Grid pc-navigation pc-layout__navigation"><div class="container-fluid "><div class="row"><div class="col"><nav><div class="pc-desktop-navigation__wrapper"><div class="pc-desktop-navigation__left"><div class="link" data-link-type="router"><span class="pc-logo pc-desktop-navigation__logo"><picture><img alt="Logo icon" src="../../../../../assets/logo/dc-logo-dark.svg" class="pc-logo__icon"/></picture><span class="pc-logo__text"></span></span></div></div><div class="pc-desktop-navigation__navigation-container"><div class="pc-overflow-scroller__container"><div class="pc-overflow-scroller pc-desktop-navigation__navigation"><div class="pc-overflow-scroller__wrapper" style="left:0"><ul class="pc-desktop-navigation__links"><li class="pc-navigation-item pc-navigation-item_menu-layout_desktop pc-desktop-navigation__item"><button class="dc-dropdown-navigation-item__control"><span class="dc-dropdown-navigation-item__title">Why DoubleCloud</span></button><div style="position:fixed;left:0;top:0" class="g-popup dc-dropdown-navigation-item__dropdown"><div class="g-popup__content dc-dropdown-navigation-item__dropdown-content-wrapper" tabindex="-1"><div class="group-list-content"><div class="row item-list-content"><div class="col  col-12 navigation-popup-item item-list-content__item"><a class="navigation-popup-item__content navigation-popup-item__content_hover" aria-label="Performance" data-link-type="router" href="../../../../../performance-boost/index.html"><div class="navigation-popup-item__container"><span class="navigation-popup-item__title">Performance</span><span class="navigation-popup-item__description">Get the best performance with the highest ROI</span></div></a></div><div class="col  col-12 navigation-popup-item item-list-content__item"><a class="navigation-popup-item__content navigation-popup-item__content_hover" aria-label="Security" data-link-type="router" href="../../../../../security.html"><div class="navigation-popup-item__container"><span class="navigation-popup-item__title">Security</span><span class="navigation-popup-item__description">Keep your data protected and maintain compliance</span></div></a></div><div class="col  col-12 navigation-popup-item item-list-content__item"><a class="navigation-popup-item__content navigation-popup-item__content_hover" aria-label="DoubleCloud vs. other solutions" data-link-type="router" href="../../../../../comparison/index.html"><div class="navigation-popup-item__container"><span class="navigation-popup-item__title">DoubleCloud vs. other solutions</span><span class="navigation-popup-item__description">Learn how DoubleCloud’s products compare to other solutions</span></div></a></div><div class="col  col-12 navigation-popup-item item-list-content__item"><a class="navigation-popup-item__content navigation-popup-item__content_hover" aria-label="Customer stories" data-link-type="router" href="../../../../../resources/case-studies/index.html"><div class="navigation-popup-item__container"><span class="navigation-popup-item__title">Customer stories</span><span class="navigation-popup-item__description">See our solutions in action</span></div></a></div></div><div class="group-list-content__banner"><picture><img alt="" src="../../../../../assets/doublecloud/menu-bar/menu-banner-dc-results.png.webp" class="group-list-content__image" style="width:300px;height:300px"/></picture><span class="yfm yfm_constructor"><a href='../../../../../performance-boost/index.html' target='_self'>Get more and spend less with DoubleCloud  →</a></span></div></div></div></div></li><li class="pc-navigation-item pc-navigation-item_menu-layout_desktop pc-desktop-navigation__item"><button class="dc-dropdown-navigation-item__control"><span class="dc-dropdown-navigation-item__title">Products</span></button><div style="position:fixed;left:0;top:0" class="g-popup dc-dropdown-navigation-item__dropdown"><div class="g-popup__content dc-dropdown-navigation-item__dropdown-content-wrapper" tabindex="-1"><div class="row item-list-content"><div class="col  col-12 navigation-popup-item item-list-content__item"><a class="navigation-popup-item__content navigation-popup-item__content_hover" aria-label="Managed Service for ClickHouse®" data-link-type="router" href="../../../../../services/managed-clickhouse.html"><picture class="navigation-popup-item__icon-container"><img alt="" src="../../../../../assets/icons/dc-clickhouse.svg" class="navigation-popup-item__icon"/></picture><div class="navigation-popup-item__container navigation-popup-item__container_with-margin"><span class="navigation-popup-item__title">Managed Service for ClickHouse®</span><span class="navigation-popup-item__description">The fastest, most resource-efficient OLAP database for real-time analytics</span></div></a></div><div class="col  col-12 navigation-popup-item item-list-content__item"><a class="navigation-popup-item__content navigation-popup-item__content_hover" aria-label="Managed Service for Apache Kafka®" data-link-type="router" href="../../../../../services/managed-kafka.html"><picture class="navigation-popup-item__icon-container"><img alt="" src="../../../../../assets/icons/dc-kafka.svg" class="navigation-popup-item__icon"/></picture><div class="navigation-popup-item__container navigation-popup-item__container_with-margin"><span class="navigation-popup-item__title">Managed Service for Apache Kafka®</span><span class="navigation-popup-item__description">A leading data streaming technology for large-scale, data-intensive applications</span></div></a></div><div class="col  col-12 navigation-popup-item item-list-content__item"><a class="navigation-popup-item__content navigation-popup-item__content_hover" aria-label="Managed Service for Apache Airflow®" data-link-type="router" href="../../../../../services/managed-airflow/index.html"><picture class="navigation-popup-item__icon-container"><img alt="" src="../../../../../assets/icons/dc-airflow.svg" class="navigation-popup-item__icon"/></picture><div class="navigation-popup-item__container navigation-popup-item__container_with-margin"><span class="navigation-popup-item__title">Managed Service for Apache Airflow®</span><span class="navigation-popup-item__description">Open-source tool to orchestrate and monitor workflows</span></div></a></div><div class="col  col-12 navigation-popup-item item-list-content__item"><a class="navigation-popup-item__content navigation-popup-item__content_hover" aria-label="Data Transfer" data-link-type="router" href="../../../../../services/doublecloud-transfer.html"><picture class="navigation-popup-item__icon-container"><img alt="" src="../../../../../assets/icons/dc-transfer.svg" class="navigation-popup-item__icon"/></picture><div class="navigation-popup-item__container navigation-popup-item__container_with-margin"><span class="navigation-popup-item__title">Data Transfer</span><span class="navigation-popup-item__description">No-code ELT tool for aggregating, collecting, and migrating data</span></div></a></div><div class="col  col-12 navigation-popup-item item-list-content__item"><a class="navigation-popup-item__content navigation-popup-item__content_hover" aria-label="Data Visualization" data-link-type="router" href="../../../../../services/doublecloud-visualization.html"><picture class="navigation-popup-item__icon-container"><img alt="" src="../../../../../assets/icons/dc-data-vis.svg" class="navigation-popup-item__icon"/></picture><div class="navigation-popup-item__container navigation-popup-item__container_with-margin"><span class="navigation-popup-item__title">Data Visualization</span><span class="navigation-popup-item__description">Free tool to create, modify, and share dashboards and charts</span></div></a></div></div></div></div></li><li class="pc-navigation-item pc-navigation-item_menu-layout_desktop pc-desktop-navigation__item"><button class="dc-dropdown-navigation-item__control"><span class="dc-dropdown-navigation-item__title">Solutions</span></button><div style="position:fixed;left:0;top:0" class="g-popup dc-dropdown-navigation-item__dropdown"><div class="g-popup__content dc-dropdown-navigation-item__dropdown-content-wrapper" tabindex="-1"><div class="group-list-content"><div class="row item-list-content"><h4 class="item-list-content__title">By use case</h4><div class="col  col-12 navigation-popup-item item-list-content__item"><a class="navigation-popup-item__content navigation-popup-item__content_hover" aria-label="Customer-facing analytics" data-link-type="router" href="../../../../../customer-facing-analytics/index.html"><div class="navigation-popup-item__container"><span class="navigation-popup-item__title">Customer-facing analytics</span><span class="navigation-popup-item__description">Provide business insights for your clients or partners</span></div></a></div><div class="col  col-12 navigation-popup-item item-list-content__item"><a class="navigation-popup-item__content navigation-popup-item__content_hover" aria-label="Real-time analytics" data-link-type="router" href="../../../../../solutions/real-time-analytics/index.html"><div class="navigation-popup-item__container"><span class="navigation-popup-item__title">Real-time analytics</span><span class="navigation-popup-item__description">Build a data infrastructure to collect, process, and analyze data in real time</span></div></a></div><div class="col  col-12 navigation-popup-item item-list-content__item"><a class="navigation-popup-item__content navigation-popup-item__content_hover" aria-label="Observability and monitoring" data-link-type="router" href="../../../../../solutions/observability-and-monitoring/index.html"><div class="navigation-popup-item__container"><span class="navigation-popup-item__title">Observability and monitoring</span><span class="navigation-popup-item__description">Analyze terabytes of your logs, events, and traces with ease</span></div></a></div></div><div class="row item-list-content"><h4 class="item-list-content__title">By industry</h4><div class="col  col-12 navigation-popup-item item-list-content__item"><a class="navigation-popup-item__content navigation-popup-item__content_hover" aria-label="AdTech and MarTech data analytics" data-link-type="router" href="../../../../../solutions/adtech.html"><div class="navigation-popup-item__container"><span class="navigation-popup-item__title">AdTech and MarTech data analytics</span><span class="navigation-popup-item__description">Extract and analyze data from Meta ads, Google ads, LinkedIn ads, and others</span></div></a></div><div class="col  col-12 navigation-popup-item item-list-content__item"><a class="navigation-popup-item__content navigation-popup-item__content_hover" aria-label="Analytics for mobile and gaming apps" data-link-type="router" href="../../../../../solutions/web-mobile-gaming-apps.html"><div class="navigation-popup-item__container"><span class="navigation-popup-item__title">Analytics for mobile and gaming apps</span><span class="navigation-popup-item__description">Optimize and scale your mobile and gaming app analytics</span></div></a></div><div class="col  col-12 navigation-popup-item item-list-content__item"><a class="navigation-popup-item__content navigation-popup-item__content_hover" aria-label="EdTech data analytics" data-link-type="router" href="../../../../../solutions/edtech/index.html"><div class="navigation-popup-item__container"><span class="navigation-popup-item__title">EdTech data analytics</span><span class="navigation-popup-item__description">Improve online learning and identify new sales opportunities</span></div></a></div><div class="col  col-12 navigation-popup-item item-list-content__item"><a class="navigation-popup-item__content navigation-popup-item__content_hover" aria-label="FinTech data analytics" data-link-type="router" href="../../../../../solutions/fintech-real-time-analytics/index.html"><div class="navigation-popup-item__container"><span class="navigation-popup-item__title">FinTech data analytics</span><span class="navigation-popup-item__description">Manage and process large amounts of financial data efficiently</span></div></a></div></div></div></div></div></li><li class="pc-navigation-item pc-navigation-item_menu-layout_desktop pc-desktop-navigation__item"><button class="dc-dropdown-navigation-item__control dc-dropdown-navigation-item__control_selected"><span class="dc-dropdown-navigation-item__title">Resources</span></button><div style="position:fixed;left:0;top:0" class="g-popup dc-dropdown-navigation-item__dropdown"><div class="g-popup__content dc-dropdown-navigation-item__dropdown-content-wrapper" tabindex="-1"><div class="group-list-content"><div class="row item-list-content"><h4 class="item-list-content__title">Using DoubleCloud</h4><div class="col  col-12 navigation-popup-item item-list-content__item"><a class="navigation-popup-item__content navigation-popup-item__content_hover" aria-label="DoubleCloud API" href="../../../../../docs/en/public-api/index.html"><div class="navigation-popup-item__container"><span class="navigation-popup-item__title">DoubleCloud API</span><span class="navigation-popup-item__description">Read up on API tutorials and instructions</span></div></a></div><div class="col  col-12 navigation-popup-item item-list-content__item"><a class="navigation-popup-item__content navigation-popup-item__content_hover" aria-label="Terraform" href="../../../../../docs/en/developer-resources/terraform/create-resources.html"><div class="navigation-popup-item__container"><span class="navigation-popup-item__title">Terraform</span><span class="navigation-popup-item__description">Deploy and manage cloud resources with the infrastructure-as-code approach</span></div></a></div><div class="col  col-12 navigation-popup-item item-list-content__item"><a class="navigation-popup-item__content navigation-popup-item__content_hover" aria-label="Status updates" data-link-type="router" href="https://status.double.cloud/"><div class="navigation-popup-item__container"><span class="navigation-popup-item__title">Status updates</span><span class="navigation-popup-item__description">Check the current operational status of our services</span></div></a></div><div class="col  col-12 navigation-popup-item item-list-content__item"><a class="navigation-popup-item__content navigation-popup-item__content_hover" aria-label="Support" data-link-type="router" href="../../../../../support/index.html"><div class="navigation-popup-item__container"><span class="navigation-popup-item__title">Support</span><span class="navigation-popup-item__description">Learn more about our support tiers</span></div></a></div></div><div class="row item-list-content"><h4 class="item-list-content__title">Discover</h4><div class="col  col-12 navigation-popup-item item-list-content__item"><a class="navigation-popup-item__content navigation-popup-item__content_hover" aria-label="Webinars" data-link-type="router" href="../../../../../webinars/index.html"><div class="navigation-popup-item__container"><span class="navigation-popup-item__title">Webinars</span><span class="navigation-popup-item__description">Sign up for the next webinar or watch previous ones</span></div></a></div><div class="col  col-12 navigation-popup-item item-list-content__item"><a class="navigation-popup-item__content navigation-popup-item__content_hover navigation-popup-item__content_selected" aria-label="Blog" data-link-type="router" href="../../../../index.html"><div class="navigation-popup-item__container"><span class="navigation-popup-item__title">Blog</span><span class="navigation-popup-item__description">Get insights from our team and the latest news</span></div></a></div></div><div class="group-list-content__banner"><picture><img alt="" src="../../../../../assets/doublecloud/menu-bar/menu-banners-dc-ebook.png.webp" class="group-list-content__image" style="width:300px;height:300px"/></picture><span class="yfm yfm_constructor"><a href='../../../../../resources/clickhouse-ebook/index.html' target='_self'>Grab your ebook  →</a></span></div></div></div></div></li><li class="pc-navigation-item pc-navigation-item_menu-layout_desktop pc-desktop-navigation__item"><button class="dc-dropdown-navigation-item__control"><span class="dc-dropdown-navigation-item__title">Company</span></button><div style="position:fixed;left:0;top:0" class="g-popup dc-dropdown-navigation-item__dropdown"><div class="g-popup__content dc-dropdown-navigation-item__dropdown-content-wrapper" tabindex="-1"><div class="row item-list-content"><div class="col  col-12 navigation-popup-item item-list-content__item"><a class="navigation-popup-item__content navigation-popup-item__content_hover" aria-label="About DoubleCloud" data-link-type="router" href="../../../../../company/about-us.html"><div class="navigation-popup-item__container"><span class="navigation-popup-item__title">About DoubleCloud</span></div></a></div><div class="col  col-12 navigation-popup-item item-list-content__item"><a class="navigation-popup-item__content navigation-popup-item__content_hover" aria-label="Careers" data-link-type="router" href="../../../../../company/careers.html"><div class="navigation-popup-item__container"><span class="navigation-popup-item__title">Careers</span></div></a></div><div class="col  col-12 navigation-popup-item item-list-content__item"><a class="navigation-popup-item__content navigation-popup-item__content_hover" aria-label="Contact us" data-link-type="router" href="../../../../../company/contact-us.html"><div class="navigation-popup-item__container"><span class="navigation-popup-item__title">Contact us</span></div></a></div></div></div></div></li><li class="pc-navigation-item pc-navigation-item_menu-layout_desktop pc-desktop-navigation__item"><a aria-label="Pricing" class="pc-navigation-item__content pc-navigation-item__content_type_link" data-link-type="router" href="../../../../../pricing.html"><div class="navigation-item"><span class="navigation-item__text">Pricing</span></div></a></li><li class="pc-navigation-item pc-navigation-item_menu-layout_desktop pc-desktop-navigation__item"><a href="../../../../../docs/index.html" aria-label="Documentation" class="pc-navigation-item__content pc-navigation-item__content_type_link" target="_self"><div class="navigation-item"><span class="navigation-item__text">Documentation</span></div></a></li></ul></div></div></div></div><div class="pc-desktop-navigation__right"><button type="button" aria-label="Button label" class="pc-control pc-control_size_l pc-control_theme_primary pc-mobile-menu-button"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" class="g-icon" fill="currentColor" stroke="none" data-qa="icon-test-id" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="evenodd" d="M1.25 3.25A.75.75 0 0 1 2 2.5h12A.75.75 0 0 1 14 4H2a.75.75 0 0 1-.75-.75Zm0 4.75A.75.75 0 0 1 2 7.25h12a.75.75 0 0 1 0 1.5H2A.75.75 0 0 1 1.25 8ZM2 12a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5H2Z" clip-rule="evenodd"></path></svg></svg></button><ul class="pc-desktop-navigation__buttons"><li class="pc-navigation-item pc-navigation-item_menu-layout_desktop pc-desktop-navigation__item"><div class="link" data-link-type="router"><a class="g-button g-button_view_flat g-button_size_l g-button_pin_round-round pc-button-block pc-button-block_position_left pc-button-block_size_l pc-button-block_theme_flat pc-navigation-button pc-navigation-item__content pc-navigation-item__content_type_button" href="https://join.slack.com/t/double-cloud/shared_invite/zt-1pbz9lfte-5GoIX~8CmVYqmVQfRFPNdA" aria-disabled="false"><span class="g-button__text"><span class="pc-button-block__content"><img class="pc-button-block__image" src="../../../../../assets/icons/slack.svg" alt="Button image"/><span class="pc-button-block__text">Slack</span></span></span></a></div></li><li class="pc-navigation-item pc-navigation-item_menu-layout_desktop pc-desktop-navigation__item"><div class="link" data-link-type="router"><a class="g-button g-button_view_flat g-button_size_l g-button_pin_round-round pc-button-block pc-button-block_size_l pc-button-block_theme_flat pc-navigation-button pc-navigation-item__content pc-navigation-item__content_type_button" href="../chatgpt-clickhouse.html#contact-us-form" aria-disabled="false"><span class="g-button__text"><span class="pc-button-block__content"><span class="pc-button-block__text">Contact us</span></span></span></a></div></li><li class="pc-navigation-item pc-navigation-item_menu-layout_desktop pc-desktop-navigation__item"><div class="link" data-link-type="router"><a class="g-button g-button_view_action g-button_size_l g-button_pin_round-round pc-button-block pc-button-block_size_l pc-button-block_theme_accent pc-navigation-button pc-navigation-item__content pc-navigation-item__content_type_button" href="https://app.double.cloud" aria-disabled="false"><span class="g-button__text"><span class="pc-button-block__content"><span class="pc-button-block__text">Console</span></span></span></a></div></li></ul></div></div><div></div></nav></div></div></div></div><main class="pc-layout__content"><section class="bc-wrapper bc-wrapper_padding-top_xs bc-wrapper_padding-bottom_l"><header class="pc-header-block pc-header-block_media-view_full"><div class="pc-header-block__background pc-header-block__background_media" style="background-color:#000000"><div class="pc-Media pc-header-block__background-media" style="background-color:#000000"><div style="transform:"><div class="pc-storage-background-image pc-media-component-image__item pc-header-block__image" data-qa="background-image"><picture data-qa="background-image-image"><img fetchpriority="high" alt="" src="../../../../../assets/blog/articles/chatgpt-clickhouse-cover.jpg" class="pc-storage-background-image__img"/></picture></div></div></div></div><div class="pc-Grid"><div class="container-fluid pc-header-block__container-fluid"><div class="row pc-header-block__breadcrumbs"><div class="col"><div class="pc-header-breadcrumbs pc-header-breadcrumbs_theme_light" aria-label="You are here:"><div class="pc-header-breadcrumbs__item"><a href="../../../../index.html" class="pc-header-breadcrumbs__text">Blog</a></div><div class="pc-header-breadcrumbs__item"><a href="../../../../index.html%3Ftags=insights.html" class="pc-header-breadcrumbs__text">Insights</a></div></div></div></div><div class="row"><div class="col col-reset pc-header-block__content-wrapper"><div class="row"><div class="col pc-header-block__content pc-header-block__content_offset_default pc-header-block__content_theme_light pc-header-block__content_vertical-offset_l"><div class="col  col-lg-6 col-sm-12 col-md-8 col-12 pc-header-block__content-inner"><h1 class="pc-header-block__title" id="g-uniq-1336525"><span>Can ChatGPT do ClickHouse?</span></h1><div class="pc-header-block__description"><div class="yfm yfm_constructor yfm_constructor_theme_light"><p>Written By: Stefan Kaeser, DoubleCloud Solution Architect</p></div></div><div class="bc-post-info__container bc-post-info__container_theme_light"><div class="bc-post-info__item bc-post-info__item_size_s" data-qa="blog-header-meta-container-date">June 8, 2023</div><div class="bc-post-info__item bc-post-info__item_size_s" data-qa="blog-header-meta-container-reading-time"><span class="bc-post-info__icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" class="g-icon bc-post-info__icon-color" fill="currentColor" stroke="none" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 17" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 16.004a8 8 0 1 1 0-16 8 8 0 0 1 0 16Zm0-2a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm3.357-3.736a1 1 0 0 0-.342-1.372L9 7.688V5.004a1 1 0 0 0-2 0v3.25a1 1 0 0 0 .486.857l2.5 1.5a1 1 0 0 0 1.371-.343Z"></path></svg></svg></span>10 mins to read</div><div class="bc-post-info__item"><div class="bc-post-info__icon"><div class="g-popover gc-share-popover bc-post-info__share"><button class="gc-share-popover__container bc-post-info__switcher bc-post-info__switcher_theme_light" aria-expanded="false" aria-controls="g-uniq-1336526" aria-describedby="g-uniq-1336526"><div class="gc-share-popover__icon-container"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" class="g-icon gc-share-popover__icon bc-post-info__share-icon" fill="currentColor" stroke="none" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" clip-rule="evenodd" d="M4.798 3.16a.5.5 0 0 0 .363.842H7V9a1 1 0 0 0 2 0V4.002h1.839a.5.5 0 0 0 .363-.844L8.363.156a.5.5 0 0 0-.726 0l-2.84 3.002.001.001ZM13 7a1 1 0 0 1 2 0v6.5a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 1 13.5V7a1 1 0 0 1 2 0v6h10V7Z"></path></svg></svg></div><div class="gc-share-popover__title">Share</div></button></div></div></div></div></div></div></div></div></div></div></div></header></section><div class="pc-Grid"><div class="container-fluid "><div class="row pc-constructor-row"><div class="col"><div class="col col-reset pc-block-base pc-block-base_reset-paddings pc-block-base_indentTop_0 pc-block-base_indentBottom_0 pc-constructor-block pc-constructor-block_type_blog-layout-block"><section class="bc-wrapper bc-wrapper_padding-top_xs bc-wrapper_padding-bottom_xs"><div class="row bc-layout__row no-gutter"><div class="col  col-12 col-lg-8  order-3 order-lg-1 bc-layout__left-col"><div class="bc-layout__item"><div class="col col-reset pc-block-base pc-block-base_reset-paddings pc-block-base_indentTop_0 pc-block-base_indentBottom_0 pc-constructor-block pc-constructor-block_type_blog-yfm-block"><section class="bc-wrapper bc-wrapper_padding-top_xs bc-wrapper_padding-bottom_l"><div class="yfm yfm_blog yfm_reset_paddings yfm_no-list-reset"><p>When we&nbsp;talk to&nbsp;potential customers, typically it&rsquo;s not very hard to&nbsp;convince them that ClickHouse is&nbsp;one of&nbsp;the best OLAP solutions out in&nbsp;the market. You can show a&nbsp;lot of&nbsp;benchmarks, demonstrate fancy queries and explain the fun of&nbsp;working with ClickHouse.</p>
<p>So, when someone wants to&nbsp;start a&nbsp;new product, utilizing a&nbsp;fast OLAP DBMS, ClickHouse often is&nbsp;the first choice.</p>
<p>But most customers don&rsquo;t start a&nbsp;new product. They come to&nbsp;us&nbsp;because they already have a&nbsp;well-running product, but it&nbsp;has outgrown their current solution, or&nbsp;it&nbsp;got too expensive to&nbsp;still run on&nbsp;easy-to-start systems like BigQuery.</p>
<p>For these customers, typically it&rsquo;s quite easy to&nbsp;see why ClickHouse would be&nbsp;the better solution because they have to&nbsp;think about not only the technology but also about code migration.</p>
<p>And opposite of&nbsp;typically thinking, most work involved when migrating to&nbsp;another DBMS is&nbsp;not to&nbsp;migrate the data itself. These tasks are typically quite similar for a&nbsp;lot of&nbsp;customers, therefore there already exists a&nbsp;lot of&nbsp;documentation and examples of&nbsp;how to&nbsp;move multiple TB&nbsp;(or&nbsp;even PB) of&nbsp;data from one system to&nbsp;another.</p>
<p>No, the biggest amount of&nbsp;work always comes back to&nbsp;the engineering department. The existing application might have hundreds of&nbsp;queries which need to&nbsp;be&nbsp;changed.</p>
<p>But even though there is&nbsp;a&nbsp;standard for SQL, it&nbsp;has become quite a&nbsp;habit for database creators to&nbsp;also invent their own dialect of&nbsp;SQL. And especially if&nbsp;query performance is&nbsp;relevant, keeping your queries close to&nbsp;SQL standards might result in&nbsp;working but bad-performing queries. That&rsquo;s why experts in&nbsp;different systems always can outperform query builders.</p>
<p>But in&nbsp;the end, this leads to&nbsp;queries optimized for a&nbsp;specific DBMS which won&rsquo;t run at&nbsp;all, or&nbsp;run with worse performance on&nbsp;another system.</p>
<p>And this is&nbsp;where migrations to&nbsp;different DBMSs get hard. Now, with the current hype about ChatGPT and other AI&nbsp;solutions, we&nbsp;were pondering: Can ChatGPT help with those tasks?</p>
<p>Don&rsquo;t worry fellow DB&nbsp;Experts, right now your job is&nbsp;safe!</p></div></section></div></div></div><div class="col  col-12 col-lg-3  offset-0 offset-lg-1  order-2 order-lg-2 bc-layout__right-col"><div class="bc-layout__item"><div class="col col-reset pc-block-base pc-block-base_reset-paddings pc-block-base_indentTop_0 pc-block-base_indentBottom_0 pc-constructor-block pc-constructor-block_type_blog-yfm-block"><section class="bc-wrapper bc-wrapper_padding-top_xs bc-wrapper_padding-bottom_l"><div class="yfm yfm_blog yfm_reset_paddings yfm_no-list-reset"><p>In&nbsp;this article, we&rsquo;ll talk about:</p>
<ul>
<li><a href="../chatgpt-clickhouse.html#asking-for-simple-things">Asking for simple things</a></li>
<li><a href="../chatgpt-clickhouse.html#query-dialects">Query dialects</a></li>
<li><a href="../chatgpt-clickhouse.html#build-table-schema">Build table schema</a></li>
<li><a href="../chatgpt-clickhouse.html#conclusion">Conclusion</a></li>
</ul></div></section></div></div></div></div></section></div><div class="col col-reset pc-block-base pc-block-base_reset-paddings pc-block-base_indentTop_0 pc-block-base_indentBottom_0 pc-constructor-block pc-constructor-block_type_blog-layout-block"><section class="bc-wrapper bc-wrapper_padding-top_xs bc-wrapper_padding-bottom_xs"><div class="row bc-layout__row no-gutter"><div class="col  col-12 col-lg-8  order-3 order-lg-1 bc-layout__left-col"><div class="bc-layout__item"><div class="col col-reset pc-block-base pc-block-base_reset-paddings pc-block-base_indentTop_0 pc-block-base_indentBottom_0 pc-constructor-block pc-constructor-block_type_blog-yfm-block"><section class="bc-wrapper bc-wrapper_padding-top_xs bc-wrapper_padding-bottom_l"><div class="yfm yfm_blog yfm_reset_paddings yfm_no-list-reset"><h2 id="asking-for-simple-things"><a href="../chatgpt-clickhouse.html#asking-for-simple-things" class="yfm-anchor" aria-hidden="true"><span class="visually-hidden">Asking for simple things</span></a>Asking for simple things</h2>
<p>To&nbsp;find out if&nbsp;ChatGPT is&nbsp;able to&nbsp;help with DB&nbsp;migrations, we&nbsp;start out with something simple. If&nbsp;you need to&nbsp;migrate data from one system to&nbsp;another, we&nbsp;typically start with the basic schema of&nbsp;tables and try to&nbsp;recreate the structure in&nbsp;the new system.</p>
<p>So&nbsp;let&rsquo;s take a&nbsp;simple DDL for a&nbsp;MySQL table, and ask ChatGPT if&nbsp;it&nbsp;can convert it&nbsp;into ClickHouse dialect:</p>

    <div class="yfm-clipboard">
    <pre><code class="hljs">CREATE TABLE `datatypes` (
  `a` int NOT NULL,
  `b_bool` tinyint(1) DEFAULT NULL,
  `c_bit` bit(1) DEFAULT NULL,
  PRIMARY KEY (`a`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
</code></pre>

    <svg width="16" height="16" viewBox="0 0 24 24" class="yfm-clipboard-button" data-animation="9">
        <path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path>
        <path stroke="currentColor" fill="transparent" stroke-width="1.5" d="M9.5 13l3 3l5 -5" visibility="hidden">
            <animate id="visibileAnimation-9" attributeName="visibility" from="hidden" to="visible" dur="0.2s" fill="freeze" begin></animate>
            <animate id="hideAnimation-9" attributeName="visibility" from="visible" to="hidden" dur="1s" begin="visibileAnimation-9.end+1" fill="freeze"></animate>
        </path>
    </svg>
    </div>
<p>Of&nbsp;course just a&nbsp;simple structure, but for a&nbsp;start, I&nbsp;thought it&nbsp;was fine, so&nbsp;this is&nbsp;what I&nbsp;got from ChatGPT:</p>

    <div class="yfm-clipboard">
    <pre><code class="hljs">CREATE TABLE datatypes (
  a Int32 NOT NULL,
  b_bool UInt8 DEFAULT NULL,
  c_bit UInt8 DEFAULT NULL,
  PRIMARY KEY (a)
) ENGINE = MergeTree()
ORDER BY a;
</code></pre>

    <svg width="16" height="16" viewBox="0 0 24 24" class="yfm-clipboard-button" data-animation="13">
        <path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path>
        <path stroke="currentColor" fill="transparent" stroke-width="1.5" d="M9.5 13l3 3l5 -5" visibility="hidden">
            <animate id="visibileAnimation-13" attributeName="visibility" from="hidden" to="visible" dur="0.2s" fill="freeze" begin></animate>
            <animate id="hideAnimation-13" attributeName="visibility" from="visible" to="hidden" dur="1s" begin="visibileAnimation-13.end+1" fill="freeze"></animate>
        </path>
    </svg>
    </div>
<p>So&nbsp;it&nbsp;worked well, and it&nbsp;not only gives us&nbsp;a&nbsp;DDL, but it&nbsp;also gives an&nbsp;explanation of&nbsp;why it&nbsp;converted the signed column b_bool into an&nbsp;unsigned UInt8:</p>
<p>Because tinyint (1) is&nbsp;typically used for boolean values, while in&nbsp;ClickHouse those are represented by&nbsp;UInt8. The same goes for the bit (1) type.</p>
<p>So&nbsp;technically the new table structure is&nbsp;incorrect, as&nbsp;it&nbsp;cannot store the same data as&nbsp;the old data, but semantically the solution is&nbsp;correct.</p>
<h4 id="lets-try-a-second-example"><a href="../chatgpt-clickhouse.html#lets-try-a-second-example" class="yfm-anchor" aria-hidden="true"><span class="visually-hidden">Let&rsquo;s try a&nbsp;second example:</span></a>Let&rsquo;s try a&nbsp;second example:</h4>

    <div class="yfm-clipboard">
    <pre><code class="hljs">CREATE TABLE `users` (
  `groupId` int NOT NULL,
  `userId` int NOT NULL,
  `password_hash` binary(16) DEFAULT NULL,
  `username` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`groupId`,`userId`),
  KEY `uname` (`username`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
</code></pre>

    <svg width="16" height="16" viewBox="0 0 24 24" class="yfm-clipboard-button" data-animation="26">
        <path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path>
        <path stroke="currentColor" fill="transparent" stroke-width="1.5" d="M9.5 13l3 3l5 -5" visibility="hidden">
            <animate id="visibileAnimation-26" attributeName="visibility" from="hidden" to="visible" dur="0.2s" fill="freeze" begin></animate>
            <animate id="hideAnimation-26" attributeName="visibility" from="visible" to="hidden" dur="1s" begin="visibileAnimation-26.end+1" fill="freeze"></animate>
        </path>
    </svg>
    </div>
<h4 id="this-is-the-result"><a href="../chatgpt-clickhouse.html#this-is-the-result" class="yfm-anchor" aria-hidden="true"><span class="visually-hidden">This is&nbsp;the result:</span></a>This is&nbsp;the result:</h4>

    <div class="yfm-clipboard">
    <pre><code class="hljs">CREATE TABLE users (
  groupId Int32 NOT NULL,
  userId Int32 NOT NULL,
  password_hash FixedString(16) DEFAULT NULL,
  username String DEFAULT NULL,
  PRIMARY KEY (groupId, userId),
  INDEX uname (username)
) ENGINE = MergeTree()
ORDER BY (groupId, userId);
</code></pre>

    <svg width="16" height="16" viewBox="0 0 24 24" class="yfm-clipboard-button" data-animation="30">
        <path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path>
        <path stroke="currentColor" fill="transparent" stroke-width="1.5" d="M9.5 13l3 3l5 -5" visibility="hidden">
            <animate id="visibileAnimation-30" attributeName="visibility" from="hidden" to="visible" dur="0.2s" fill="freeze" begin></animate>
            <animate id="hideAnimation-30" attributeName="visibility" from="visible" to="hidden" dur="1s" begin="visibileAnimation-30.end+1" fill="freeze"></animate>
        </path>
    </svg>
    </div>
<p>It&nbsp;again converted the types correctly, giving explanations, why it&nbsp;chose which types&nbsp;etc. But unfortunately, the end result gives a&nbsp;syntax error in&nbsp;ClickHouse, as&nbsp;additional indices are not as&nbsp;easy to&nbsp;create as&nbsp;ChatGPT thinks.</p>
<p>I&nbsp;tried to&nbsp;ask ChatGPT to&nbsp;fix its error, but it&nbsp;just tried to&nbsp;skip the index in&nbsp;the first DDL and create it&nbsp;in&nbsp;a&nbsp;separate statement, which also didn&rsquo;t work.</p>
<p>It&nbsp;also gave me&nbsp;an&nbsp;explanation, that ClickHouse does not enforce NOT NULL in&nbsp;not nullable columns. No&nbsp;idea how it&nbsp;came up&nbsp;with this idea, as&nbsp;ClickHouse definitely enforces the not null.</p>
<p>Ergo, even with those good explanations, you should be&nbsp;careful, as&nbsp;not everything might be&nbsp;correct, still, it&nbsp;sounds quite convincing as&nbsp;it&nbsp;would be&nbsp;right. (sounds like some humans you may know&hellip;.)</p></div></section></div></div></div><div class="col  col-12 col-lg-3  offset-0 offset-lg-1  order-2 order-lg-2 bc-layout__right-col"><div class="bc-layout__item"><div class="pc-card-base-block pc-card-base-block_border_shadow pc-background-card pc-background-card_theme_default"><div class="pc-card-base-block__body"><div class="pc-card-base-block__content pc-background-card__content"><div class="pc-storage-background-image pc-background-card__image" data-qa="background-image"><picture data-qa="background-image-image"><source srcSet="../../../../../assets/doublecloud/customer-facing-benefits-6.png.webp" type="image/webp" data-qa="background-image-image-desktop-source-compressed"/><img alt="" src="../../../../../assets/doublecloud/customer-facing-benefits-6.png" class="pc-storage-background-image__img"/></picture></div><div class="col  col-12 col-md-12 col-reset pc-content pc-content_size_s pc-content_theme_default pc-content_control-position_default"><div class="pc-title pc-content__title" id="g-uniq-1336528"><div class="col  col-12 col-reset"><h3 class="pc-title-item pc-title-item_size_s pc-title-item_reset-margin" data-qa="undefined-header"><span class="pc-title-item__text">DoubleCloud Managed Service for ClickHouse</span></h3></div></div><div class="pc-content__text"><div class="yfm yfm_constructor yfm_constructor_size_s"><p>An&nbsp;open-source, managed ClickHouse DBMS service for sub-second analytics. Don&rsquo;t take two days to&nbsp;set up&nbsp;a&nbsp;new data cluster. Do&nbsp;it&nbsp;with us&nbsp;in&nbsp;five minutes.</p></div></div><div class="pc-buttons pc-buttons_size_s pc-content__buttons pc-content__buttons_size_s"><a aria-describedby="g-uniq-1336528" class="g-button g-button_view_action g-button_size_l g-button_pin_round-round pc-button-block pc-button-block_size_m pc-button-block_theme_action pc-buttons__button" href="../../../../../services/managed-clickhouse.html" aria-disabled="false"><span class="g-button__text"><span class="pc-button-block__content"><span class="pc-button-block__text">Learn more</span></span></span></a></div></div></div></div></div></div></div></div></section></div><div class="col col-reset pc-block-base pc-block-base_reset-paddings pc-block-base_indentTop_0 pc-block-base_indentBottom_0 pc-constructor-block pc-constructor-block_type_blog-layout-block"><section class="bc-wrapper bc-wrapper_padding-top_xs bc-wrapper_padding-bottom_xs"><div class="row bc-layout__row no-gutter"><div class="col  col-12 col-lg-8  order-3 order-lg-1 bc-layout__left-col"><div class="bc-layout__item"><div class="col col-reset pc-block-base pc-block-base_reset-paddings pc-block-base_indentTop_0 pc-block-base_indentBottom_0 pc-constructor-block pc-constructor-block_type_blog-yfm-block"><section class="bc-wrapper bc-wrapper_padding-top_xs bc-wrapper_padding-bottom_l"><div class="yfm yfm_blog yfm_reset_paddings yfm_no-list-reset"><h2 id="query-dialects"><a href="../chatgpt-clickhouse.html#query-dialects" class="yfm-anchor" aria-hidden="true"><span class="visually-hidden">Query dialects</span></a>Query dialects</h2>
<p>Ok, so&nbsp;we&nbsp;saw that ChatGPT can convert DDL from one dialect to&nbsp;another with some restrictions, but what about real queries?</p>
<p>We&nbsp;asked some of&nbsp;our customers if&nbsp;they can provide us&nbsp;with some real queries they have to&nbsp;migrate. First of&nbsp;all, we&nbsp;got an&nbsp;example query from one of&nbsp;our customers which runs on&nbsp;BigQuery:</p>

    <div class="yfm-clipboard">
    <pre><code class="hljs">SELECT CASE
          WHEN sq_2__search_console__period_0__ctr &gt;= 0
                AND sq_2__search_console__period_0__ctr &lt; 5 THEN '0000_from_0_to_5'
          WHEN sq_2__search_console__period_0__ctr &gt;= 5
                AND sq_2__search_console__period_0__ctr &lt; 10 THEN '0001_from_5_to_10'
          WHEN sq_2__search_console__period_0__ctr &gt;= 10
                AND sq_2__search_console__period_0__ctr &lt; 20 THEN '0002_from_10_to_20'
          WHEN sq_2__search_console__period_0__ctr &gt;= 20
                AND sq_2__search_console__period_0__ctr &lt; 40 THEN '0003_from_20_to_40'
          WHEN sq_2__search_console__period_0__ctr &gt;= 40
                AND sq_2__search_console__period_0__ctr &lt; 70 THEN '0004_from_40_to_70'
          WHEN sq_2__search_console__period_0__ctr &gt;= 70 THEN '0005_from_70_to_'
      END f_0,
      IFNULL(SUM(sq_2__search_console__period_0__count_clicks), 0) f_1
FROM
  (SELECT sq_2.search_console__period_0__count_clicks sq_2__search_console__period_0__count_clicks,
          sq_2.search_console__period_0__ctr sq_2__search_console__period_0__ctr
  FROM
    (SELECT ((SUM(clicks) / SUM(impressions)) * 100) search_console__period_0__ctr,
            ANY_VALUE(url_hash) url_hash,
            SUM(clicks) search_console__period_0__count_clicks,
            url_keyword_hash
      FROM
        (SELECT *
        FROM `production_64302.search_console_flat`
        WHERE date BETWEEN '2023-01-28' AND '2023-02-26' )
      GROUP BY url_keyword_hash) sq_2
  FULL
      OUTER JOIN
    (SELECT *
      FROM `.production_64302.crawl_1160774_1222833`
      WHERE http_code &lt;&gt; 0 ) sq_1 ON sq_2.url_hash = sq_1.url_hash
  WHERE NOT(sq_1.compliant__is_compliant) )
GROUP BY f_0
LIMIT 20000
</code></pre>

    <svg width="16" height="16" viewBox="0 0 24 24" class="yfm-clipboard-button" data-animation="9">
        <path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path>
        <path stroke="currentColor" fill="transparent" stroke-width="1.5" d="M9.5 13l3 3l5 -5" visibility="hidden">
            <animate id="visibileAnimation-9" attributeName="visibility" from="hidden" to="visible" dur="0.2s" fill="freeze" begin></animate>
            <animate id="hideAnimation-9" attributeName="visibility" from="visible" to="hidden" dur="1s" begin="visibileAnimation-9.end+1" fill="freeze"></animate>
        </path>
    </svg>
    </div>
<p>As&nbsp;you can see, it&rsquo;s already quite complex, but this is&nbsp;the real world and we&nbsp;want to&nbsp;see if&nbsp;ChatGPT can help us&nbsp;during a&nbsp;migration process, and not only for fun, right? So&nbsp;what do&nbsp;we&nbsp;get:</p>

    <div class="yfm-clipboard">
    <pre><code class="hljs">SELECT
  CASE
      WHEN sq_2__search_console__period_0__ctr &gt;= 0 AND sq_2__search_console__period_0__ctr &lt; 5 THEN '0000_from_0_to_5'
      WHEN sq_2__search_console__period_0__ctr &gt;= 5 AND sq_2__search_console__period_0__ctr &lt; 10 THEN '0001_from_5_to_10'
      WHEN sq_2__search_console__period_0__ctr &gt;= 10 AND sq_2__search_console__period_0__ctr &lt; 20 THEN '0002_from_10_to_20'
      WHEN sq_2__search_console__period_0__ctr &gt;= 20 AND sq_2__search_console__period_0__ctr &lt; 40 THEN '0003_from_20_to_40'
      WHEN sq_2__search_console__period_0__ctr &gt;= 40 AND sq_2__search_console__period_0__ctr &lt; 70 THEN '0004_from_40_to_70'
      WHEN sq_2__search_console__period_0__ctr &gt;= 70 THEN '0005_from_70_to_'
  END AS f_0,
  COALESCE(SUM(sq_2__search_console__period_0__count_clicks), 0) AS f_1
FROM
(
  SELECT
      sq_2.search_console__period_0__count_clicks AS sq_2__search_console__period_0__count_clicks,
      sq_2.search_console__period_0__ctr AS sq_2__search_console__period_0__ctr
  FROM
  (
      SELECT
          (sum(clicks) / sum(impressions)) * 100 AS search_console__period_0__ctr,
          anyLast(url_hash) AS url_hash,
          sum(clicks) AS search_console__period_0__count_clicks,
          url_keyword_hash
      FROM
      (
          SELECT *
          FROM search_console_flat
          WHERE date BETWEEN '2023-01-28' AND '2023-02-26'
      )
      GROUP BY url_keyword_hash
  ) AS sq_2
  ANY FULL OUTER JOIN
  (
      SELECT *
      FROM crawl_1160774_1222833
      WHERE http_code &lt;&gt; 0
  ) AS sq_1
  ON sq_2.url_hash = sq_1.url_hash
  WHERE NOT sq_1.compliant__is_compliant
)
GROUP BY f_0
LIMIT 20000;
</code></pre>

    <svg width="16" height="16" viewBox="0 0 24 24" class="yfm-clipboard-button" data-animation="13">
        <path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path>
        <path stroke="currentColor" fill="transparent" stroke-width="1.5" d="M9.5 13l3 3l5 -5" visibility="hidden">
            <animate id="visibileAnimation-13" attributeName="visibility" from="hidden" to="visible" dur="0.2s" fill="freeze" begin></animate>
            <animate id="hideAnimation-13" attributeName="visibility" from="visible" to="hidden" dur="1s" begin="visibileAnimation-13.end+1" fill="freeze"></animate>
        </path>
    </svg>
    </div>
<p>In&nbsp;the end, it&nbsp;just translated the logic, but nothing more. I&nbsp;asked ChatGPT if&nbsp;it&nbsp;can optimize the query, and it&nbsp;gave me&nbsp;some useful hints, again with some good explanations for beginners to&nbsp;learn.</p>
<p>Then I&nbsp;tried to&nbsp;trick it&nbsp;a&nbsp;little&nbsp;bit. Our customer sent me&nbsp;a&nbsp;list of&nbsp;Queries, but the tool they used, did some text encodings, so&nbsp;the query was not easy to&nbsp;read for the human eye anymore:</p>

    <div class="yfm-clipboard">
    <pre><code class="hljs">SELECT CASE WHEN sq_1__nb_words \u003e\u003d 1 AND sq_1__nb_words \u003c 4 THEN \u00270000_from_1_to_4\u0027 WHEN sq_1__nb_words \u003e\u003d 4 AND sq_1__nb_words \u003c 7 THEN \u00270001_from_4_to_7\u0027 WHEN sq_1__nb_words \u003e\u003d 7 THEN \u00270002_from_7_to_\u0027 END f_0, IFNULL(SUM(sq_1__search_console__period_0__count_clicks), 0) f_1 FROM (SELECT sq_1.nb_words sq_1__nb_words, sq_1.search_console__period_0__count_clicks sq_1__search_console__period_0__count_clicks FROM (SELECT ANY_VALUE(branded) branded, ANY_VALUE(nb_words) nb_words, ANY_VALUE(segments__pagetype__value) segments__pagetype__value, ANY_VALUE(url_hash) url_hash, SUM(clicks) search_console__period_0__count_clicks, url_keyword_hash FROM (SELECT * FROM `production_52366.search_console_flat` WHERE date BETWEEN \u00272023-04-10\u0027 AND \u00272023-05-07\u0027) WHERE (STARTS_WITH(segments__pagetype__value, \u0027category/\u0027) OR segments__pagetype__value \u003d \u0027category\u0027) AND NOT(STARTS_WITH(segments__pagetype__value, \u0027category/results-page/\u0027) OR segments__pagetype__value \u003d \u0027category/results-page\u0027) AND NOT(branded) GROUP BY url_keyword_hash) sq_1) GROUP BY f_0 LIMIT 20000
</code></pre>

    <svg width="16" height="16" viewBox="0 0 24 24" class="yfm-clipboard-button" data-animation="20">
        <path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path>
        <path stroke="currentColor" fill="transparent" stroke-width="1.5" d="M9.5 13l3 3l5 -5" visibility="hidden">
            <animate id="visibileAnimation-20" attributeName="visibility" from="hidden" to="visible" dur="0.2s" fill="freeze" begin></animate>
            <animate id="hideAnimation-20" attributeName="visibility" from="visible" to="hidden" dur="1s" begin="visibileAnimation-20.end+1" fill="freeze"></animate>
        </path>
    </svg>
    </div>
<p>Now ChatGPT could easily fix the encoding, and gave me&nbsp;a&nbsp;query, but it&nbsp;was only partially in&nbsp;ClickHouse dialect. For whatever reason this time it&nbsp;didn&rsquo;t convert the ANY_VALUE function which it&nbsp;already did in&nbsp;the previous example.</p>
<p>I&nbsp;hinted at&nbsp;ChatGPT to&nbsp;its error, so&nbsp;the next iteration of&nbsp;the query then worked.</p>
<p>So&nbsp;in&nbsp;the end, ChatGPT can help you translate queries for some PoCs, but you still need to&nbsp;manage yourself to&nbsp;optimise for the best performance, an&nbsp;auto-conversion process won&rsquo;t work.</p>
<h2 id="build-table-schema"><a href="../chatgpt-clickhouse.html#build-table-schema" class="yfm-anchor" aria-hidden="true"><span class="visually-hidden">Build table schema</span></a>Build table schema</h2>
<p>Speaking of&nbsp;PoCs. One of&nbsp;the hardest things in&nbsp;a&nbsp;new project is&nbsp;always the beginning. Let&rsquo;s find out if&nbsp;ChatGPT can help there, can it&nbsp;create some basic tables for me?</p>
<p>As&nbsp;an&nbsp;example, I&nbsp;thought of&nbsp;some log data to&nbsp;store in&nbsp;ClickHouse. I, therefore, installed collectd on&nbsp;a&nbsp;test machine, and let it&nbsp;generate some data in&nbsp;its JSON format.</p>
<p>Then I&nbsp;took one row of&nbsp;the data and asked ChatGPT to&nbsp;provide me&nbsp;with an&nbsp;efficient table structure based on&nbsp;the single JSON row. I&nbsp;gave it&nbsp;some context, that it&nbsp;is&nbsp;log data collected and that I&nbsp;want to&nbsp;store it&nbsp;as&nbsp;efficiently as&nbsp;possible.</p>
<p>The sample data i&nbsp;used looked like this:</p>
<p>[{"values&rdquo;:[0],"dstypes&rdquo;:[&ldquo;gauge&rdquo;],"dsnames&rdquo;:[&ldquo;value&rdquo;],"time&rdquo;:1684941133.135,"interval&rdquo;:10.000,"host&rdquo;:"loki&rdquo;,"plugin&rdquo;:"cpu&rdquo;,"plugin_instance&rdquo;:"5&rdquo;,"type&rdquo;:"percent&rdquo;,"type_instance&rdquo;:"interrupt"}]</p>
<p>ChatGPT provided the following table structure:</p>

    <div class="yfm-clipboard">
    <pre><code class="hljs">CREATE TABLE my_table (
  values Array(Float64),
  dstypes Array(String),
  dsnames Array(String),
  time Float64,
  interval Float64,
  host String,
  plugin String,
  plugin_instance String,
  type String,
  type_instance String
) ENGINE = MergeTree()
ORDER BY time;
</code></pre>

    <svg width="16" height="16" viewBox="0 0 24 24" class="yfm-clipboard-button" data-animation="51">
        <path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path>
        <path stroke="currentColor" fill="transparent" stroke-width="1.5" d="M9.5 13l3 3l5 -5" visibility="hidden">
            <animate id="visibileAnimation-51" attributeName="visibility" from="hidden" to="visible" dur="0.2s" fill="freeze" begin></animate>
            <animate id="hideAnimation-51" attributeName="visibility" from="visible" to="hidden" dur="1s" begin="visibileAnimation-51.end+1" fill="freeze"></animate>
        </path>
    </svg>
    </div>
<p>Actually, I&nbsp;think it&rsquo;s quite impressive, what it&nbsp;can create out of&nbsp;so&nbsp;little information, but you can easily see there is&nbsp;little to&nbsp;no&nbsp;optimization. Typically you would use LowCardinality for most of&nbsp;the String columns, as&nbsp;it&rsquo;s not likely to&nbsp;have millions of&nbsp;different hosts or&nbsp;plugins. Also, the chosen ORDER BY&nbsp;time is&nbsp;suboptimal for storing a&nbsp;lot of&nbsp;log data.</p>
<p>It&nbsp;explains that with this ORDER BY, you can facilitate efficient querying of&nbsp;time series data. Still, ChatGPT forgets to&nbsp;mention that it&nbsp;will also lead to&nbsp;bad data locality and therefore not good compression.</p>
<p>Even when explicitly asking for a&nbsp;more optimized version, it&nbsp;just gave me&nbsp;general hints on&nbsp;what could be&nbsp;done, but not specific enough to&nbsp;be&nbsp;useful for automation.</p>
<h2 id="conclusion"><a href="../chatgpt-clickhouse.html#conclusion" class="yfm-anchor" aria-hidden="true"><span class="visually-hidden">Conclusion</span></a>Conclusion</h2>
<p>So&nbsp;in&nbsp;the end, one must say ChatGPT is&nbsp;a&nbsp;fantastic tool for some fast ramp-ups, but it&nbsp;definitely lacks the experience of&nbsp;a&nbsp;database expert. You can use it&nbsp;for some early prototypes, or&nbsp;for giving you some valuable information, but it&rsquo;s still far away from using it&nbsp;as&nbsp;an&nbsp;automatism to&nbsp;generate your Database Architecture or&nbsp;optimize queries from one dialect to&nbsp;another.</p></div></section></div></div></div><div class="col  col-12 col-lg-3  offset-0 offset-lg-1  order-2 order-lg-2 bc-layout__right-col"><div class="bc-layout__item"><div class="pc-card-base-block pc-card-base-block_border_shadow pc-background-card pc-background-card_theme_default"><div class="pc-card-base-block__body"><div class="pc-card-base-block__content pc-background-card__content"><div class="pc-storage-background-image pc-background-card__image" data-qa="background-image"><picture data-qa="background-image-image"><source srcSet="../../../../../assets/doublecloud/customer-facing-benefits-6.png.webp" type="image/webp" data-qa="background-image-image-desktop-source-compressed"/><img alt="" src="../../../../../assets/doublecloud/customer-facing-benefits-6.png" class="pc-storage-background-image__img"/></picture></div><div class="col  col-12 col-md-12 col-reset pc-content pc-content_size_s pc-content_theme_default pc-content_control-position_default"><div class="pc-title pc-content__title" id="g-uniq-1336530"><div class="col  col-12 col-reset"><h3 class="pc-title-item pc-title-item_size_s pc-title-item_reset-margin" data-qa="undefined-header"><span class="pc-title-item__text">Meet DoubleCloud AI-Insights based on&nbsp;GPT-4</span></h3></div></div><div class="pc-content__text"><div class="yfm yfm_constructor yfm_constructor_size_s"><p>Don&rsquo;t waste time reading numerous reports and manually analyzing data&nbsp;&mdash; rely on&nbsp;AI-Insights and get fast and accurate conclusions.</p></div></div><div class="pc-buttons pc-buttons_size_s pc-content__buttons pc-content__buttons_size_s"><a aria-describedby="g-uniq-1336530" class="g-button g-button_view_action g-button_size_l g-button_pin_round-round pc-button-block pc-button-block_size_m pc-button-block_theme_action pc-buttons__button" href="../../../../../services/doublecloud-visualization.html" aria-disabled="false"><span class="g-button__text"><span class="pc-button-block__content"><span class="pc-button-block__text">Learn more</span></span></span></a></div></div></div></div></div></div></div></div></section></div><div class="col col-reset pc-block-base pc-block-base_indentTop_l pc-block-base_indentBottom_l pc-constructor-block pc-constructor-block_type_content-layout-block"><div class="pc-content-layout-block pc-content-layout-block_size_l pc-content-layout-block_theme_default pc-content-layout-block_background"><div class="col  col-12 col-md-8 col-reset pc-content pc-content_size_l pc-content_theme_default pc-content-layout-block__content"><div class="pc-title pc-content__title" id="g-uniq-1336532"><div class="col  col-12 col-reset"><h2 class="pc-title-item pc-title-item_size_m pc-title-item_reset-margin" data-qa="undefined-header"><span class="pc-title-item__text">Start your trial today</span></h2></div></div><div class="pc-buttons pc-buttons_size_l pc-content__buttons pc-content__buttons_size_l"><a aria-describedby="g-uniq-1336532" class="g-button g-button_view_action g-button_size_xl g-button_pin_round-round pc-button-block pc-button-block_size_xl pc-button-block_theme_accent pc-buttons__button" href="https://auth.double.cloud/s/signup" aria-disabled="false"><span class="g-button__text"><span class="pc-button-block__content"><span class="pc-button-block__text">Start free trial</span></span></span></a><a aria-describedby="g-uniq-1336532" class="g-button g-button_view_outlined g-button_size_xl g-button_pin_round-round pc-button-block pc-button-block_size_xl pc-button-block_theme_pseudo pc-buttons__button" href="../chatgpt-clickhouse.html#contact-us-form" aria-disabled="false"><span class="g-button__text"><span class="pc-button-block__content"><span class="pc-button-block__text">Contact us</span></span></span></a></div></div><div class="pc-content-layout-block__background"><div class="pc-storage-background-image pc-content-layout-block__background-item" style="background-color:#CA1551" data-qa="background-image"><picture data-qa="background-image-image"><source srcSet="../../../../../assets/doublecloud/doublecloud-cover-4.png.webp" type="image/webp" data-qa="background-image-image-desktop-source-compressed"/><img alt="" src="../../../../../assets/doublecloud/doublecloud-cover-4.png" class="pc-storage-background-image__img" style="background-color:#CA1551"/></picture></div></div></div></div><div class="col col-reset pc-block-base pc-block-base_reset-paddings pc-block-base_indentTop_0 pc-block-base_indentBottom_0 pc-constructor-block pc-constructor-block_type_blog-suggest-block"><section class="bc-wrapper bc-wrapper_padding-top_l bc-wrapper_padding-bottom_l"><div class="pc-SliderBlock"><div class="pc-title pc-SliderBlock__header pc-SliderBlock__header_no-description"><div class="col  col-12 col-sm-8 col-reset"><h2 class="pc-title-item pc-title-item_size_m pc-title-item_reset-margin" data-qa="undefined-header"><span class="pc-title-item__text">See also</span></h2></div></div><div class="pc-SliderBlock__animate-slides"><span style="font-size:0"></span><div><div class="slick-slider pc-slick-origin slick-initialized"><div class="slick-list"><div class="slick-track" style="width:100%;left:0%"><div data-index="0" class="slick-slide slick-active slick-current" tabindex="-1" aria-hidden="false" style="outline:none;width:33.333333333333336%"><div><div class="link" data-link-type="router"><a draggable="false" aria-labelledby="g-uniq-1336533" aria-describedby="g-uniq-1336535 g-uniq-1336537" class="g-link g-link_view_normal pc-card-base-block pc-card-base-block_border_shadow bc-post-card__card" href="../../04/5-reasons-why-clickhouse-is-the-database-for-end-user-analytics.html"><div class="pc-storage-background-image pc-card-base-block__header bc-post-card__header" data-qa="background-image"><picture data-qa="background-image-image"><source srcSet="../../../../../assets/blog/articles/5-reasons-why-clickhouse-is-the-database-for-end-user-analytics-small-cover.jpg.webp" type="image/webp" data-qa="background-image-image-desktop-source-compressed"/><img alt="" src="../../../../../assets/blog/articles/5-reasons-why-clickhouse-is-the-database-for-end-user-analytics-small-cover.jpg" class="pc-storage-background-image__img"/></picture><div class="pc-storage-background-image__container"><div class="pc-card-base-block__header-content"><div class="bc-post-card__image-container" data-qa="blog-suggest-header"></div></div></div></div><div class="pc-card-base-block__body"><div class="pc-card-base-block__content"><h3 class="bc-post-card__title bc-post-card__title_size_s"><span><span id="g-uniq-1336533">5 Reasons why ClickHouse is ‘the’ database for end-user analytics</span></span></h3></div><div class="pc-card-base-block__footer"><div class="bc-post-info__container"><div class="bc-post-info__suggest-container"><div class="bc-post-info__item bc-post-info__item_size_s" id="g-uniq-1336535">April 19, 2023</div><div class="bc-post-info__item bc-post-info__item_size_s" id="g-uniq-1336537"><span class="bc-post-info__icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" class="g-icon bc-post-info__icon-color" fill="currentColor" stroke="none" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 17" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 16.004a8 8 0 1 1 0-16 8 8 0 0 1 0 16Zm0-2a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm3.357-3.736a1 1 0 0 0-.342-1.372L9 7.688V5.004a1 1 0 0 0-2 0v3.25a1 1 0 0 0 .486.857l2.5 1.5a1 1 0 0 0 1.371-.343Z"></path></svg></svg></span>10 mins to read</div></div></div></div></div></a></div></div></div><div data-index="1" class="slick-slide slick-active" tabindex="-1" aria-hidden="false" style="outline:none;width:33.333333333333336%"><div><div class="link" data-link-type="router"><a draggable="false" aria-labelledby="g-uniq-1336538" aria-describedby="g-uniq-1336539 g-uniq-1336540 g-uniq-1336542" class="g-link g-link_view_normal pc-card-base-block pc-card-base-block_border_shadow bc-post-card__card" href="../../04/clickhouse-as-storage-engine-for-mysql.html"><div class="pc-storage-background-image pc-card-base-block__header bc-post-card__header" data-qa="background-image"><picture data-qa="background-image-image"><source srcSet="../../../../../assets/blog/articles/clickhouse-as-storage-engine-for-mysql-small-cover.jpg.webp" type="image/webp" data-qa="background-image-image-desktop-source-compressed"/><img alt="" src="../../../../../assets/blog/articles/clickhouse-as-storage-engine-for-mysql-small-cover.jpg" class="pc-storage-background-image__img"/></picture><div class="pc-storage-background-image__container"><div class="pc-card-base-block__header-content"><div class="bc-post-card__image-container" data-qa="blog-suggest-header"></div></div></div></div><div class="pc-card-base-block__body"><div class="pc-card-base-block__content"><h3 class="bc-post-card__title bc-post-card__title_size_s"><span><span id="g-uniq-1336538">ClickHouse as storage engine for MySQL? An experimental approach</span></span></h3><span class="yfm yfm_blog_card bc-post-card__description" id="g-uniq-1336539">Written By: Stefan Kaeser, DoubleCloud Senior Solution Architect</span></div><div class="pc-card-base-block__footer"><div class="bc-post-info__container"><div class="bc-post-info__suggest-container"><div class="bc-post-info__item bc-post-info__item_size_s" id="g-uniq-1336540">April 24, 2023</div><div class="bc-post-info__item bc-post-info__item_size_s" id="g-uniq-1336542"><span class="bc-post-info__icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" class="g-icon bc-post-info__icon-color" fill="currentColor" stroke="none" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 17" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 16.004a8 8 0 1 1 0-16 8 8 0 0 1 0 16Zm0-2a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm3.357-3.736a1 1 0 0 0-.342-1.372L9 7.688V5.004a1 1 0 0 0-2 0v3.25a1 1 0 0 0 .486.857l2.5 1.5a1 1 0 0 0 1.371-.343Z"></path></svg></svg></span>10 mins to read</div></div></div></div></div></a></div></div></div><div data-index="2" class="slick-slide slick-active" tabindex="-1" aria-hidden="false" style="outline:none;width:33.333333333333336%"><div><div class="link" data-link-type="router"><a draggable="false" aria-labelledby="g-uniq-1336543" aria-describedby="g-uniq-1336544 g-uniq-1336545 g-uniq-1336547" class="g-link g-link_view_normal pc-card-base-block pc-card-base-block_border_shadow bc-post-card__card" href="../../05/visualize-your-clickhouse-storage-with-doublecloud.html"><div class="pc-storage-background-image pc-card-base-block__header bc-post-card__header" data-qa="background-image"><picture data-qa="background-image-image"><source srcSet="../../../../../assets/blog/articles/visualize-your-clickhouse-storage-with-doublecloud-small-cover.jpg.webp" type="image/webp" data-qa="background-image-image-desktop-source-compressed"/><img alt="" src="../../../../../assets/blog/articles/visualize-your-clickhouse-storage-with-doublecloud-small-cover.jpg" class="pc-storage-background-image__img"/></picture><div class="pc-storage-background-image__container"><div class="pc-card-base-block__header-content"><div class="bc-post-card__image-container" data-qa="blog-suggest-header"></div></div></div></div><div class="pc-card-base-block__body"><div class="pc-card-base-block__content"><h3 class="bc-post-card__title bc-post-card__title_size_s"><span><span id="g-uniq-1336543">Visualize your ClickHouse storage with DoubleCloud</span></span></h3><span class="yfm yfm_blog_card bc-post-card__description" id="g-uniq-1336544">Written By: Amos Gutman, DoubleCloud Senior Solution Architect</span></div><div class="pc-card-base-block__footer"><div class="bc-post-info__container"><div class="bc-post-info__suggest-container"><div class="bc-post-info__item bc-post-info__item_size_s" id="g-uniq-1336545">May 15, 2023</div><div class="bc-post-info__item bc-post-info__item_size_s" id="g-uniq-1336547"><span class="bc-post-info__icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" class="g-icon bc-post-info__icon-color" fill="currentColor" stroke="none" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 17" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 16.004a8 8 0 1 1 0-16 8 8 0 0 1 0 16Zm0-2a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm3.357-3.736a1 1 0 0 0-.342-1.372L9 7.688V5.004a1 1 0 0 0-2 0v3.25a1 1 0 0 0 .486.857l2.5 1.5a1 1 0 0 0 1.371-.343Z"></path></svg></svg></span>10 mins to read</div></div></div></div></div></a></div></div></div></div></div></div><div class="pc-SliderBlock__footer"></div></div></div></div></section></div></div></div></div></div></main></div></div></div><div class="bc-prompt bc-prompt_close"><div class="bc-prompt__content"><span class="bc-prompt__text">Sign in to save this post</span><div class="bc-prompt__actions"><button class="g-button g-button_view_action g-button_size_l g-button_pin_round-round bc-prompt__action" type="button"><span class="g-button__text">Sign In</span></button></div></div></div></div><footer class="footer"><div class="pc-Grid"><div class="container-fluid "><div class="row"><div class="col  col-12 col-md-4 footer__column"><div class="link" data-link-type="router"><div class="logo footer__logo"><img alt="Logo Icon" src="../../../../../assets/logo/dc-logo-dark.svg" width="178" height="36" decoding="async" data-nimg="future" class="logo__icon" loading="lazy" style="color:transparent"/><span class="logo__text"></span></div></div><div class="pc-Grid subscription-form-block"><div class="container-fluid "><div class="row subscription-form-block__container"><div class="col  col-12"><span class="subscription-form-block__header">Subscribe to our newsletter</span></div><div class="col  col-12"><div class="pc-hubspot-form pc-hubspot-form_theme_light" id="hubspot-form-b9015518-c7ea-4173-a96b-a251994635e3"></div></div><div class="col  col-12"><span class="subscription-form-block__footer">By submitting this form, you agree to our <a href="../../../../../legal/privacy.html">Privacy policy</a></span></div></div></div></div></div><div class="col  col-6 col-sm-3 col-md-2 footer__column"><div class="footer__column-title">Products</div><a aria-label="Managed Service for ClickHouse®" class="navigation-item navigation-item_type_link footer__column-link" data-link-type="router" href="../../../../../services/managed-clickhouse.html"><div class="navigation-item"><span class="navigation-item__text">Managed Service for ClickHouse®</span></div></a><a aria-label="Managed Service for Apache Kafka®" class="navigation-item navigation-item_type_link footer__column-link" data-link-type="router" href="../../../../../services/managed-kafka.html"><div class="navigation-item"><span class="navigation-item__text">Managed Service for Apache Kafka®</span></div></a><a aria-label="Managed Service for Apache Airflow®" class="navigation-item navigation-item_type_link footer__column-link" data-link-type="router" href="../../../../../services/managed-airflow/index.html"><div class="navigation-item"><span class="navigation-item__text">Managed Service for Apache Airflow®</span></div></a><a aria-label="Data Transfer" class="navigation-item navigation-item_type_link footer__column-link" data-link-type="router" href="../../../../../services/doublecloud-transfer.html"><div class="navigation-item"><span class="navigation-item__text">Data Transfer</span></div></a><a aria-label="Data Visualization" class="navigation-item navigation-item_type_link footer__column-link" data-link-type="router" href="../../../../../services/doublecloud-visualization.html"><div class="navigation-item"><span class="navigation-item__text">Data Visualization</span></div></a></div><div class="col  col-6 col-sm-3 col-md-2 footer__column"><div class="footer__column-title">Solutions</div><a aria-label="Case studies" class="navigation-item navigation-item_type_link footer__column-link" data-link-type="router" href="../../../../../resources/case-studies/index.html"><div class="navigation-item"><span class="navigation-item__text">Case studies</span></div></a><a aria-label="Customer-facing analytics" class="navigation-item navigation-item_type_link footer__column-link" data-link-type="router" href="../../../../../customer-facing-analytics/index.html"><div class="navigation-item"><span class="navigation-item__text">Customer-facing analytics</span></div></a><a aria-label="Real-time analytics" class="navigation-item navigation-item_type_link footer__column-link" data-link-type="router" href="../../../../../solutions/real-time-analytics/index.html"><div class="navigation-item"><span class="navigation-item__text">Real-time analytics</span></div></a><a aria-label="Observability and monitoring" class="navigation-item navigation-item_type_link footer__column-link" data-link-type="router" href="../../../../../solutions/observability-and-monitoring/index.html"><div class="navigation-item"><span class="navigation-item__text">Observability and monitoring</span></div></a><a aria-label="AdTech and MarTech data analytics" class="navigation-item navigation-item_type_link footer__column-link" data-link-type="router" href="../../../../../solutions/adtech.html"><div class="navigation-item"><span class="navigation-item__text">AdTech and MarTech data analytics</span></div></a><a aria-label="Analytics for mobile and gaming Apps" class="navigation-item navigation-item_type_link footer__column-link" data-link-type="router" href="../../../../../solutions/web-mobile-gaming-apps.html"><div class="navigation-item"><span class="navigation-item__text">Analytics for mobile and gaming Apps</span></div></a><a aria-label="EdTech data analytics" class="navigation-item navigation-item_type_link footer__column-link" data-link-type="router" href="../../../../../solutions/edtech/index.html"><div class="navigation-item"><span class="navigation-item__text">EdTech data analytics</span></div></a><a aria-label="FinTech data analytics" class="navigation-item navigation-item_type_link footer__column-link" data-link-type="router" href="../../../../../solutions/fintech-real-time-analytics/index.html"><div class="navigation-item"><span class="navigation-item__text">FinTech data analytics</span></div></a></div><div class="col  col-6 col-sm-3 col-md-2 footer__column"><div class="footer__column-title">Resources</div><a aria-label="Documentation" class="navigation-item navigation-item_type_link footer__column-link" href="../../../../../docs/index.html"><div class="navigation-item"><span class="navigation-item__text">Documentation</span></div></a><a aria-label="Webinars" class="navigation-item navigation-item_type_link footer__column-link" data-link-type="router" href="../../../../../webinars/index.html"><div class="navigation-item"><span class="navigation-item__text">Webinars</span></div></a><a aria-label="Blog" class="navigation-item navigation-item_type_link footer__column-link" data-link-type="router" href="../../../../index.html"><div class="navigation-item navigation-item_selected"><span class="navigation-item__text">Blog</span></div></a><a href="https://join.slack.com/t/double-cloud/shared_invite/zt-1pbz9lfte-5GoIX~8CmVYqmVQfRFPNdA" aria-label="Slack" class="navigation-item navigation-item_type_link footer__column-link" target="_blank" rel="noopener noreferrer"><div class="navigation-item"><span class="navigation-item__text">Slack</span></div></a><a aria-label="Support" class="navigation-item navigation-item_type_link footer__column-link" data-link-type="router" href="../../../../../support/index.html"><div class="navigation-item"><span class="navigation-item__text">Support</span></div></a><a href="https://status.double.cloud/" aria-label="Status updates" class="navigation-item navigation-item_type_link footer__column-link" target="_blank" rel="noopener noreferrer"><div class="navigation-item"><span class="navigation-item__text">Status updates</span></div></a><a aria-label="Product comparisons" class="navigation-item navigation-item_type_link footer__column-link" data-link-type="router" href="../../../../../comparison/index.html"><div class="navigation-item"><span class="navigation-item__text">Product comparisons</span></div></a><a aria-label="Site map" class="navigation-item navigation-item_type_link footer__column-link" data-link-type="router" href="../../../../../sitemap/index.html"><div class="navigation-item"><span class="navigation-item__text">Site map</span></div></a></div><div class="col  col-6 col-sm-3 col-md-2 footer__column"><div class="footer__column-title">Company</div><a aria-label="About DoubleCloud" class="navigation-item navigation-item_type_link footer__column-link" data-link-type="router" href="../../../../../company/about-us.html"><div class="navigation-item"><span class="navigation-item__text">About DoubleCloud</span></div></a><a aria-label="Careers" class="navigation-item navigation-item_type_link footer__column-link" data-link-type="router" href="../../../../../company/careers.html"><div class="navigation-item"><span class="navigation-item__text">Careers</span></div></a><a aria-label="AWS Partnership" class="navigation-item navigation-item_type_link footer__column-link" data-link-type="router" href="../../../../../aws-partnership/index.html"><div class="navigation-item"><span class="navigation-item__text">AWS Partnership</span></div></a><a aria-label="Contact us" class="navigation-item navigation-item_type_link footer__column-link" data-link-type="router" href="../../../../../company/contact-us.html"><div class="navigation-item"><span class="navigation-item__text">Contact us</span></div></a></div></div><div class="row"><div class="col  col-12 footer__underline"><div class="footer__underline-links"><a href="../../../../../legal/customer_agreement/index.html" aria-label="Customer Agreement" class="navigation-item navigation-item_type_link footer__underline-link" target="_blank"><div class="navigation-item"><span class="navigation-item__text">Customer Agreement</span></div></a><a href="../../../../../legal/privacy.html" aria-label="Privacy Policy" class="navigation-item navigation-item_type_link footer__underline-link" target="_blank"><div class="navigation-item"><span class="navigation-item__text">Privacy Policy</span></div></a><a aria-label="Pricing" class="navigation-item navigation-item_type_link footer__underline-link" data-link-type="router" href="../../../../../pricing.html"><div class="navigation-item"><span class="navigation-item__text">Pricing</span></div></a><a href="../../../../../security.html" aria-label="Security" class="navigation-item navigation-item_type_link footer__underline-link" target="_blank"><div class="navigation-item"><span class="navigation-item__text">Security</span></div></a></div><div class="footer__underline-copyright">© 2024 DoubleCloud</div></div></div></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json" nonce="IwFB4H/bcBx9EJ8mYMmg7w==">{"props":{"pageProps":{"data":{"status":"fulfilled","pageContent":{"page":{"id":103,"name":"blog/posts/2023/06/chatgpt-clickhouse","createdAt":"2024-08-21T09:48:00.914Z","updatedAt":"2024-08-21T09:48:00.914Z","type":"default","isDeleted":false,"versionOnTranslationId":null,"pageId":103,"locale":"en","publishedVersionId":2134,"lastVersionId":2134,"content":{"blocks":[{"type":"blog-header-block","resetPaddings":true,"paddingBottom":"l","width":"s","verticalOffset":"l","background":{"image":{"src":"/assets/blog/articles/chatgpt-clickhouse-cover.jpg","disableCompress":true,"fetchPriority":"high"},"color":"#000000","fullWidth":false}},{"type":"blog-layout-block","resetPaddings":true,"mobileOrder":"reverse","children":[{"type":"blog-yfm-block","column":"right","resetPaddings":true,"text":"\u003cp\u003eIn\u0026nbsp;this article, we\u0026rsquo;ll talk about:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#asking-for-simple-things\"\u003eAsking for simple things\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#query-dialects\"\u003eQuery dialects\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#build-table-schema\"\u003eBuild table schema\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#conclusion\"\u003eConclusion\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e"},{"type":"blog-yfm-block","column":"left","resetPaddings":true,"text":"\u003cp\u003eWhen we\u0026nbsp;talk to\u0026nbsp;potential customers, typically it\u0026rsquo;s not very hard to\u0026nbsp;convince them that ClickHouse is\u0026nbsp;one of\u0026nbsp;the best OLAP solutions out in\u0026nbsp;the market. You can show a\u0026nbsp;lot of\u0026nbsp;benchmarks, demonstrate fancy queries and explain the fun of\u0026nbsp;working with ClickHouse.\u003c/p\u003e\n\u003cp\u003eSo, when someone wants to\u0026nbsp;start a\u0026nbsp;new product, utilizing a\u0026nbsp;fast OLAP DBMS, ClickHouse often is\u0026nbsp;the first choice.\u003c/p\u003e\n\u003cp\u003eBut most customers don\u0026rsquo;t start a\u0026nbsp;new product. They come to\u0026nbsp;us\u0026nbsp;because they already have a\u0026nbsp;well-running product, but it\u0026nbsp;has outgrown their current solution, or\u0026nbsp;it\u0026nbsp;got too expensive to\u0026nbsp;still run on\u0026nbsp;easy-to-start systems like BigQuery.\u003c/p\u003e\n\u003cp\u003eFor these customers, typically it\u0026rsquo;s quite easy to\u0026nbsp;see why ClickHouse would be\u0026nbsp;the better solution because they have to\u0026nbsp;think about not only the technology but also about code migration.\u003c/p\u003e\n\u003cp\u003eAnd opposite of\u0026nbsp;typically thinking, most work involved when migrating to\u0026nbsp;another DBMS is\u0026nbsp;not to\u0026nbsp;migrate the data itself. These tasks are typically quite similar for a\u0026nbsp;lot of\u0026nbsp;customers, therefore there already exists a\u0026nbsp;lot of\u0026nbsp;documentation and examples of\u0026nbsp;how to\u0026nbsp;move multiple TB\u0026nbsp;(or\u0026nbsp;even PB) of\u0026nbsp;data from one system to\u0026nbsp;another.\u003c/p\u003e\n\u003cp\u003eNo, the biggest amount of\u0026nbsp;work always comes back to\u0026nbsp;the engineering department. The existing application might have hundreds of\u0026nbsp;queries which need to\u0026nbsp;be\u0026nbsp;changed.\u003c/p\u003e\n\u003cp\u003eBut even though there is\u0026nbsp;a\u0026nbsp;standard for SQL, it\u0026nbsp;has become quite a\u0026nbsp;habit for database creators to\u0026nbsp;also invent their own dialect of\u0026nbsp;SQL. And especially if\u0026nbsp;query performance is\u0026nbsp;relevant, keeping your queries close to\u0026nbsp;SQL standards might result in\u0026nbsp;working but bad-performing queries. That\u0026rsquo;s why experts in\u0026nbsp;different systems always can outperform query builders.\u003c/p\u003e\n\u003cp\u003eBut in\u0026nbsp;the end, this leads to\u0026nbsp;queries optimized for a\u0026nbsp;specific DBMS which won\u0026rsquo;t run at\u0026nbsp;all, or\u0026nbsp;run with worse performance on\u0026nbsp;another system.\u003c/p\u003e\n\u003cp\u003eAnd this is\u0026nbsp;where migrations to\u0026nbsp;different DBMSs get hard. Now, with the current hype about ChatGPT and other AI\u0026nbsp;solutions, we\u0026nbsp;were pondering: Can ChatGPT help with those tasks?\u003c/p\u003e\n\u003cp\u003eDon\u0026rsquo;t worry fellow DB\u0026nbsp;Experts, right now your job is\u0026nbsp;safe!\u003c/p\u003e"}]},{"type":"blog-layout-block","resetPaddings":true,"mobileOrder":"reverse","children":[{"type":"background-card","column":"right","background":{"src":"/assets/doublecloud/customer-facing-benefits-6.png"},"title":"DoubleCloud Managed Service for ClickHouse","text":"\u003cp\u003eAn\u0026nbsp;open-source, managed ClickHouse DBMS service for sub-second analytics. Don\u0026rsquo;t take two days to\u0026nbsp;set up\u0026nbsp;a\u0026nbsp;new data cluster. Do\u0026nbsp;it\u0026nbsp;with us\u0026nbsp;in\u0026nbsp;five minutes.\u003c/p\u003e","buttons":[{"text":"Learn more","theme":"action","url":"https://double.cloud/services/managed-clickhouse/"}]},{"type":"blog-yfm-block","column":"left","resetPaddings":true,"text":"\u003ch2 id=\"asking-for-simple-things\"\u003e\u003ca href=\"#asking-for-simple-things\" class=\"yfm-anchor\" aria-hidden=\"true\"\u003e\u003cspan class=\"visually-hidden\"\u003eAsking for simple things\u003c/span\u003e\u003c/a\u003eAsking for simple things\u003c/h2\u003e\n\u003cp\u003eTo\u0026nbsp;find out if\u0026nbsp;ChatGPT is\u0026nbsp;able to\u0026nbsp;help with DB\u0026nbsp;migrations, we\u0026nbsp;start out with something simple. If\u0026nbsp;you need to\u0026nbsp;migrate data from one system to\u0026nbsp;another, we\u0026nbsp;typically start with the basic schema of\u0026nbsp;tables and try to\u0026nbsp;recreate the structure in\u0026nbsp;the new system.\u003c/p\u003e\n\u003cp\u003eSo\u0026nbsp;let\u0026rsquo;s take a\u0026nbsp;simple DDL for a\u0026nbsp;MySQL table, and ask ChatGPT if\u0026nbsp;it\u0026nbsp;can convert it\u0026nbsp;into ClickHouse dialect:\u003c/p\u003e\n\n    \u003cdiv class=\"yfm-clipboard\"\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs\"\u003eCREATE TABLE `datatypes` (\n  `a` int NOT NULL,\n  `b_bool` tinyint(1) DEFAULT NULL,\n  `c_bit` bit(1) DEFAULT NULL,\n  PRIMARY KEY (`a`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci\n\u003c/code\u003e\u003c/pre\u003e\n\n    \u003csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"9\"\u003e\n        \u003cpath fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"\u003e\u003c/path\u003e\n        \u003cpath stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"\u003e\n            \u003canimate id=\"visibileAnimation-9\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin\u003e\u003c/animate\u003e\n            \u003canimate id=\"hideAnimation-9\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-9.end+1\" fill=\"freeze\"\u003e\u003c/animate\u003e\n        \u003c/path\u003e\n    \u003c/svg\u003e\n    \u003c/div\u003e\n\u003cp\u003eOf\u0026nbsp;course just a\u0026nbsp;simple structure, but for a\u0026nbsp;start, I\u0026nbsp;thought it\u0026nbsp;was fine, so\u0026nbsp;this is\u0026nbsp;what I\u0026nbsp;got from ChatGPT:\u003c/p\u003e\n\n    \u003cdiv class=\"yfm-clipboard\"\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs\"\u003eCREATE TABLE datatypes (\n  a Int32 NOT NULL,\n  b_bool UInt8 DEFAULT NULL,\n  c_bit UInt8 DEFAULT NULL,\n  PRIMARY KEY (a)\n) ENGINE = MergeTree()\nORDER BY a;\n\u003c/code\u003e\u003c/pre\u003e\n\n    \u003csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"13\"\u003e\n        \u003cpath fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"\u003e\u003c/path\u003e\n        \u003cpath stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"\u003e\n            \u003canimate id=\"visibileAnimation-13\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin\u003e\u003c/animate\u003e\n            \u003canimate id=\"hideAnimation-13\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-13.end+1\" fill=\"freeze\"\u003e\u003c/animate\u003e\n        \u003c/path\u003e\n    \u003c/svg\u003e\n    \u003c/div\u003e\n\u003cp\u003eSo\u0026nbsp;it\u0026nbsp;worked well, and it\u0026nbsp;not only gives us\u0026nbsp;a\u0026nbsp;DDL, but it\u0026nbsp;also gives an\u0026nbsp;explanation of\u0026nbsp;why it\u0026nbsp;converted the signed column b_bool into an\u0026nbsp;unsigned UInt8:\u003c/p\u003e\n\u003cp\u003eBecause tinyint (1) is\u0026nbsp;typically used for boolean values, while in\u0026nbsp;ClickHouse those are represented by\u0026nbsp;UInt8. The same goes for the bit (1) type.\u003c/p\u003e\n\u003cp\u003eSo\u0026nbsp;technically the new table structure is\u0026nbsp;incorrect, as\u0026nbsp;it\u0026nbsp;cannot store the same data as\u0026nbsp;the old data, but semantically the solution is\u0026nbsp;correct.\u003c/p\u003e\n\u003ch4 id=\"lets-try-a-second-example\"\u003e\u003ca href=\"#lets-try-a-second-example\" class=\"yfm-anchor\" aria-hidden=\"true\"\u003e\u003cspan class=\"visually-hidden\"\u003eLet\u0026rsquo;s try a\u0026nbsp;second example:\u003c/span\u003e\u003c/a\u003eLet\u0026rsquo;s try a\u0026nbsp;second example:\u003c/h4\u003e\n\n    \u003cdiv class=\"yfm-clipboard\"\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs\"\u003eCREATE TABLE `users` (\n  `groupId` int NOT NULL,\n  `userId` int NOT NULL,\n  `password_hash` binary(16) DEFAULT NULL,\n  `username` varchar(255) DEFAULT NULL,\n  PRIMARY KEY (`groupId`,`userId`),\n  KEY `uname` (`username`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci\n\u003c/code\u003e\u003c/pre\u003e\n\n    \u003csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"26\"\u003e\n        \u003cpath fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"\u003e\u003c/path\u003e\n        \u003cpath stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"\u003e\n            \u003canimate id=\"visibileAnimation-26\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin\u003e\u003c/animate\u003e\n            \u003canimate id=\"hideAnimation-26\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-26.end+1\" fill=\"freeze\"\u003e\u003c/animate\u003e\n        \u003c/path\u003e\n    \u003c/svg\u003e\n    \u003c/div\u003e\n\u003ch4 id=\"this-is-the-result\"\u003e\u003ca href=\"#this-is-the-result\" class=\"yfm-anchor\" aria-hidden=\"true\"\u003e\u003cspan class=\"visually-hidden\"\u003eThis is\u0026nbsp;the result:\u003c/span\u003e\u003c/a\u003eThis is\u0026nbsp;the result:\u003c/h4\u003e\n\n    \u003cdiv class=\"yfm-clipboard\"\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs\"\u003eCREATE TABLE users (\n  groupId Int32 NOT NULL,\n  userId Int32 NOT NULL,\n  password_hash FixedString(16) DEFAULT NULL,\n  username String DEFAULT NULL,\n  PRIMARY KEY (groupId, userId),\n  INDEX uname (username)\n) ENGINE = MergeTree()\nORDER BY (groupId, userId);\n\u003c/code\u003e\u003c/pre\u003e\n\n    \u003csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"30\"\u003e\n        \u003cpath fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"\u003e\u003c/path\u003e\n        \u003cpath stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"\u003e\n            \u003canimate id=\"visibileAnimation-30\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin\u003e\u003c/animate\u003e\n            \u003canimate id=\"hideAnimation-30\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-30.end+1\" fill=\"freeze\"\u003e\u003c/animate\u003e\n        \u003c/path\u003e\n    \u003c/svg\u003e\n    \u003c/div\u003e\n\u003cp\u003eIt\u0026nbsp;again converted the types correctly, giving explanations, why it\u0026nbsp;chose which types\u0026nbsp;etc. But unfortunately, the end result gives a\u0026nbsp;syntax error in\u0026nbsp;ClickHouse, as\u0026nbsp;additional indices are not as\u0026nbsp;easy to\u0026nbsp;create as\u0026nbsp;ChatGPT thinks.\u003c/p\u003e\n\u003cp\u003eI\u0026nbsp;tried to\u0026nbsp;ask ChatGPT to\u0026nbsp;fix its error, but it\u0026nbsp;just tried to\u0026nbsp;skip the index in\u0026nbsp;the first DDL and create it\u0026nbsp;in\u0026nbsp;a\u0026nbsp;separate statement, which also didn\u0026rsquo;t work.\u003c/p\u003e\n\u003cp\u003eIt\u0026nbsp;also gave me\u0026nbsp;an\u0026nbsp;explanation, that ClickHouse does not enforce NOT NULL in\u0026nbsp;not nullable columns. No\u0026nbsp;idea how it\u0026nbsp;came up\u0026nbsp;with this idea, as\u0026nbsp;ClickHouse definitely enforces the not null.\u003c/p\u003e\n\u003cp\u003eErgo, even with those good explanations, you should be\u0026nbsp;careful, as\u0026nbsp;not everything might be\u0026nbsp;correct, still, it\u0026nbsp;sounds quite convincing as\u0026nbsp;it\u0026nbsp;would be\u0026nbsp;right. (sounds like some humans you may know\u0026hellip;.)\u003c/p\u003e"}]},{"type":"blog-layout-block","resetPaddings":true,"mobileOrder":"reverse","children":[{"type":"background-card","column":"right","background":{"src":"/assets/doublecloud/customer-facing-benefits-6.png"},"title":"Meet DoubleCloud AI-Insights based on\u0026nbsp;GPT-4","text":"\u003cp\u003eDon\u0026rsquo;t waste time reading numerous reports and manually analyzing data\u0026nbsp;\u0026mdash; rely on\u0026nbsp;AI-Insights and get fast and accurate conclusions.\u003c/p\u003e","buttons":[{"text":"Learn more","theme":"action","url":"https://double.cloud/services/doublecloud-visualization/"}]},{"type":"blog-yfm-block","column":"left","resetPaddings":true,"text":"\u003ch2 id=\"query-dialects\"\u003e\u003ca href=\"#query-dialects\" class=\"yfm-anchor\" aria-hidden=\"true\"\u003e\u003cspan class=\"visually-hidden\"\u003eQuery dialects\u003c/span\u003e\u003c/a\u003eQuery dialects\u003c/h2\u003e\n\u003cp\u003eOk, so\u0026nbsp;we\u0026nbsp;saw that ChatGPT can convert DDL from one dialect to\u0026nbsp;another with some restrictions, but what about real queries?\u003c/p\u003e\n\u003cp\u003eWe\u0026nbsp;asked some of\u0026nbsp;our customers if\u0026nbsp;they can provide us\u0026nbsp;with some real queries they have to\u0026nbsp;migrate. First of\u0026nbsp;all, we\u0026nbsp;got an\u0026nbsp;example query from one of\u0026nbsp;our customers which runs on\u0026nbsp;BigQuery:\u003c/p\u003e\n\n    \u003cdiv class=\"yfm-clipboard\"\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs\"\u003eSELECT CASE\n          WHEN sq_2__search_console__period_0__ctr \u0026gt;= 0\n                AND sq_2__search_console__period_0__ctr \u0026lt; 5 THEN '0000_from_0_to_5'\n          WHEN sq_2__search_console__period_0__ctr \u0026gt;= 5\n                AND sq_2__search_console__period_0__ctr \u0026lt; 10 THEN '0001_from_5_to_10'\n          WHEN sq_2__search_console__period_0__ctr \u0026gt;= 10\n                AND sq_2__search_console__period_0__ctr \u0026lt; 20 THEN '0002_from_10_to_20'\n          WHEN sq_2__search_console__period_0__ctr \u0026gt;= 20\n                AND sq_2__search_console__period_0__ctr \u0026lt; 40 THEN '0003_from_20_to_40'\n          WHEN sq_2__search_console__period_0__ctr \u0026gt;= 40\n                AND sq_2__search_console__period_0__ctr \u0026lt; 70 THEN '0004_from_40_to_70'\n          WHEN sq_2__search_console__period_0__ctr \u0026gt;= 70 THEN '0005_from_70_to_'\n      END f_0,\n      IFNULL(SUM(sq_2__search_console__period_0__count_clicks), 0) f_1\nFROM\n  (SELECT sq_2.search_console__period_0__count_clicks sq_2__search_console__period_0__count_clicks,\n          sq_2.search_console__period_0__ctr sq_2__search_console__period_0__ctr\n  FROM\n    (SELECT ((SUM(clicks) / SUM(impressions)) * 100) search_console__period_0__ctr,\n            ANY_VALUE(url_hash) url_hash,\n            SUM(clicks) search_console__period_0__count_clicks,\n            url_keyword_hash\n      FROM\n        (SELECT *\n        FROM `production_64302.search_console_flat`\n        WHERE date BETWEEN '2023-01-28' AND '2023-02-26' )\n      GROUP BY url_keyword_hash) sq_2\n  FULL\n      OUTER JOIN\n    (SELECT *\n      FROM `.production_64302.crawl_1160774_1222833`\n      WHERE http_code \u0026lt;\u0026gt; 0 ) sq_1 ON sq_2.url_hash = sq_1.url_hash\n  WHERE NOT(sq_1.compliant__is_compliant) )\nGROUP BY f_0\nLIMIT 20000\n\u003c/code\u003e\u003c/pre\u003e\n\n    \u003csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"9\"\u003e\n        \u003cpath fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"\u003e\u003c/path\u003e\n        \u003cpath stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"\u003e\n            \u003canimate id=\"visibileAnimation-9\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin\u003e\u003c/animate\u003e\n            \u003canimate id=\"hideAnimation-9\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-9.end+1\" fill=\"freeze\"\u003e\u003c/animate\u003e\n        \u003c/path\u003e\n    \u003c/svg\u003e\n    \u003c/div\u003e\n\u003cp\u003eAs\u0026nbsp;you can see, it\u0026rsquo;s already quite complex, but this is\u0026nbsp;the real world and we\u0026nbsp;want to\u0026nbsp;see if\u0026nbsp;ChatGPT can help us\u0026nbsp;during a\u0026nbsp;migration process, and not only for fun, right? So\u0026nbsp;what do\u0026nbsp;we\u0026nbsp;get:\u003c/p\u003e\n\n    \u003cdiv class=\"yfm-clipboard\"\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs\"\u003eSELECT\n  CASE\n      WHEN sq_2__search_console__period_0__ctr \u0026gt;= 0 AND sq_2__search_console__period_0__ctr \u0026lt; 5 THEN '0000_from_0_to_5'\n      WHEN sq_2__search_console__period_0__ctr \u0026gt;= 5 AND sq_2__search_console__period_0__ctr \u0026lt; 10 THEN '0001_from_5_to_10'\n      WHEN sq_2__search_console__period_0__ctr \u0026gt;= 10 AND sq_2__search_console__period_0__ctr \u0026lt; 20 THEN '0002_from_10_to_20'\n      WHEN sq_2__search_console__period_0__ctr \u0026gt;= 20 AND sq_2__search_console__period_0__ctr \u0026lt; 40 THEN '0003_from_20_to_40'\n      WHEN sq_2__search_console__period_0__ctr \u0026gt;= 40 AND sq_2__search_console__period_0__ctr \u0026lt; 70 THEN '0004_from_40_to_70'\n      WHEN sq_2__search_console__period_0__ctr \u0026gt;= 70 THEN '0005_from_70_to_'\n  END AS f_0,\n  COALESCE(SUM(sq_2__search_console__period_0__count_clicks), 0) AS f_1\nFROM\n(\n  SELECT\n      sq_2.search_console__period_0__count_clicks AS sq_2__search_console__period_0__count_clicks,\n      sq_2.search_console__period_0__ctr AS sq_2__search_console__period_0__ctr\n  FROM\n  (\n      SELECT\n          (sum(clicks) / sum(impressions)) * 100 AS search_console__period_0__ctr,\n          anyLast(url_hash) AS url_hash,\n          sum(clicks) AS search_console__period_0__count_clicks,\n          url_keyword_hash\n      FROM\n      (\n          SELECT *\n          FROM search_console_flat\n          WHERE date BETWEEN '2023-01-28' AND '2023-02-26'\n      )\n      GROUP BY url_keyword_hash\n  ) AS sq_2\n  ANY FULL OUTER JOIN\n  (\n      SELECT *\n      FROM crawl_1160774_1222833\n      WHERE http_code \u0026lt;\u0026gt; 0\n  ) AS sq_1\n  ON sq_2.url_hash = sq_1.url_hash\n  WHERE NOT sq_1.compliant__is_compliant\n)\nGROUP BY f_0\nLIMIT 20000;\n\u003c/code\u003e\u003c/pre\u003e\n\n    \u003csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"13\"\u003e\n        \u003cpath fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"\u003e\u003c/path\u003e\n        \u003cpath stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"\u003e\n            \u003canimate id=\"visibileAnimation-13\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin\u003e\u003c/animate\u003e\n            \u003canimate id=\"hideAnimation-13\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-13.end+1\" fill=\"freeze\"\u003e\u003c/animate\u003e\n        \u003c/path\u003e\n    \u003c/svg\u003e\n    \u003c/div\u003e\n\u003cp\u003eIn\u0026nbsp;the end, it\u0026nbsp;just translated the logic, but nothing more. I\u0026nbsp;asked ChatGPT if\u0026nbsp;it\u0026nbsp;can optimize the query, and it\u0026nbsp;gave me\u0026nbsp;some useful hints, again with some good explanations for beginners to\u0026nbsp;learn.\u003c/p\u003e\n\u003cp\u003eThen I\u0026nbsp;tried to\u0026nbsp;trick it\u0026nbsp;a\u0026nbsp;little\u0026nbsp;bit. Our customer sent me\u0026nbsp;a\u0026nbsp;list of\u0026nbsp;Queries, but the tool they used, did some text encodings, so\u0026nbsp;the query was not easy to\u0026nbsp;read for the human eye anymore:\u003c/p\u003e\n\n    \u003cdiv class=\"yfm-clipboard\"\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs\"\u003eSELECT CASE WHEN sq_1__nb_words \\u003e\\u003d 1 AND sq_1__nb_words \\u003c 4 THEN \\u00270000_from_1_to_4\\u0027 WHEN sq_1__nb_words \\u003e\\u003d 4 AND sq_1__nb_words \\u003c 7 THEN \\u00270001_from_4_to_7\\u0027 WHEN sq_1__nb_words \\u003e\\u003d 7 THEN \\u00270002_from_7_to_\\u0027 END f_0, IFNULL(SUM(sq_1__search_console__period_0__count_clicks), 0) f_1 FROM (SELECT sq_1.nb_words sq_1__nb_words, sq_1.search_console__period_0__count_clicks sq_1__search_console__period_0__count_clicks FROM (SELECT ANY_VALUE(branded) branded, ANY_VALUE(nb_words) nb_words, ANY_VALUE(segments__pagetype__value) segments__pagetype__value, ANY_VALUE(url_hash) url_hash, SUM(clicks) search_console__period_0__count_clicks, url_keyword_hash FROM (SELECT * FROM `production_52366.search_console_flat` WHERE date BETWEEN \\u00272023-04-10\\u0027 AND \\u00272023-05-07\\u0027) WHERE (STARTS_WITH(segments__pagetype__value, \\u0027category/\\u0027) OR segments__pagetype__value \\u003d \\u0027category\\u0027) AND NOT(STARTS_WITH(segments__pagetype__value, \\u0027category/results-page/\\u0027) OR segments__pagetype__value \\u003d \\u0027category/results-page\\u0027) AND NOT(branded) GROUP BY url_keyword_hash) sq_1) GROUP BY f_0 LIMIT 20000\n\u003c/code\u003e\u003c/pre\u003e\n\n    \u003csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"20\"\u003e\n        \u003cpath fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"\u003e\u003c/path\u003e\n        \u003cpath stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"\u003e\n            \u003canimate id=\"visibileAnimation-20\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin\u003e\u003c/animate\u003e\n            \u003canimate id=\"hideAnimation-20\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-20.end+1\" fill=\"freeze\"\u003e\u003c/animate\u003e\n        \u003c/path\u003e\n    \u003c/svg\u003e\n    \u003c/div\u003e\n\u003cp\u003eNow ChatGPT could easily fix the encoding, and gave me\u0026nbsp;a\u0026nbsp;query, but it\u0026nbsp;was only partially in\u0026nbsp;ClickHouse dialect. For whatever reason this time it\u0026nbsp;didn\u0026rsquo;t convert the ANY_VALUE function which it\u0026nbsp;already did in\u0026nbsp;the previous example.\u003c/p\u003e\n\u003cp\u003eI\u0026nbsp;hinted at\u0026nbsp;ChatGPT to\u0026nbsp;its error, so\u0026nbsp;the next iteration of\u0026nbsp;the query then worked.\u003c/p\u003e\n\u003cp\u003eSo\u0026nbsp;in\u0026nbsp;the end, ChatGPT can help you translate queries for some PoCs, but you still need to\u0026nbsp;manage yourself to\u0026nbsp;optimise for the best performance, an\u0026nbsp;auto-conversion process won\u0026rsquo;t work.\u003c/p\u003e\n\u003ch2 id=\"build-table-schema\"\u003e\u003ca href=\"#build-table-schema\" class=\"yfm-anchor\" aria-hidden=\"true\"\u003e\u003cspan class=\"visually-hidden\"\u003eBuild table schema\u003c/span\u003e\u003c/a\u003eBuild table schema\u003c/h2\u003e\n\u003cp\u003eSpeaking of\u0026nbsp;PoCs. One of\u0026nbsp;the hardest things in\u0026nbsp;a\u0026nbsp;new project is\u0026nbsp;always the beginning. Let\u0026rsquo;s find out if\u0026nbsp;ChatGPT can help there, can it\u0026nbsp;create some basic tables for me?\u003c/p\u003e\n\u003cp\u003eAs\u0026nbsp;an\u0026nbsp;example, I\u0026nbsp;thought of\u0026nbsp;some log data to\u0026nbsp;store in\u0026nbsp;ClickHouse. I, therefore, installed collectd on\u0026nbsp;a\u0026nbsp;test machine, and let it\u0026nbsp;generate some data in\u0026nbsp;its JSON format.\u003c/p\u003e\n\u003cp\u003eThen I\u0026nbsp;took one row of\u0026nbsp;the data and asked ChatGPT to\u0026nbsp;provide me\u0026nbsp;with an\u0026nbsp;efficient table structure based on\u0026nbsp;the single JSON row. I\u0026nbsp;gave it\u0026nbsp;some context, that it\u0026nbsp;is\u0026nbsp;log data collected and that I\u0026nbsp;want to\u0026nbsp;store it\u0026nbsp;as\u0026nbsp;efficiently as\u0026nbsp;possible.\u003c/p\u003e\n\u003cp\u003eThe sample data i\u0026nbsp;used looked like this:\u003c/p\u003e\n\u003cp\u003e[{\"values\u0026rdquo;:[0],\"dstypes\u0026rdquo;:[\u0026ldquo;gauge\u0026rdquo;],\"dsnames\u0026rdquo;:[\u0026ldquo;value\u0026rdquo;],\"time\u0026rdquo;:1684941133.135,\"interval\u0026rdquo;:10.000,\"host\u0026rdquo;:\"loki\u0026rdquo;,\"plugin\u0026rdquo;:\"cpu\u0026rdquo;,\"plugin_instance\u0026rdquo;:\"5\u0026rdquo;,\"type\u0026rdquo;:\"percent\u0026rdquo;,\"type_instance\u0026rdquo;:\"interrupt\"}]\u003c/p\u003e\n\u003cp\u003eChatGPT provided the following table structure:\u003c/p\u003e\n\n    \u003cdiv class=\"yfm-clipboard\"\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs\"\u003eCREATE TABLE my_table (\n  values Array(Float64),\n  dstypes Array(String),\n  dsnames Array(String),\n  time Float64,\n  interval Float64,\n  host String,\n  plugin String,\n  plugin_instance String,\n  type String,\n  type_instance String\n) ENGINE = MergeTree()\nORDER BY time;\n\u003c/code\u003e\u003c/pre\u003e\n\n    \u003csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"51\"\u003e\n        \u003cpath fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"\u003e\u003c/path\u003e\n        \u003cpath stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"\u003e\n            \u003canimate id=\"visibileAnimation-51\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin\u003e\u003c/animate\u003e\n            \u003canimate id=\"hideAnimation-51\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-51.end+1\" fill=\"freeze\"\u003e\u003c/animate\u003e\n        \u003c/path\u003e\n    \u003c/svg\u003e\n    \u003c/div\u003e\n\u003cp\u003eActually, I\u0026nbsp;think it\u0026rsquo;s quite impressive, what it\u0026nbsp;can create out of\u0026nbsp;so\u0026nbsp;little information, but you can easily see there is\u0026nbsp;little to\u0026nbsp;no\u0026nbsp;optimization. Typically you would use LowCardinality for most of\u0026nbsp;the String columns, as\u0026nbsp;it\u0026rsquo;s not likely to\u0026nbsp;have millions of\u0026nbsp;different hosts or\u0026nbsp;plugins. Also, the chosen ORDER BY\u0026nbsp;time is\u0026nbsp;suboptimal for storing a\u0026nbsp;lot of\u0026nbsp;log data.\u003c/p\u003e\n\u003cp\u003eIt\u0026nbsp;explains that with this ORDER BY, you can facilitate efficient querying of\u0026nbsp;time series data. Still, ChatGPT forgets to\u0026nbsp;mention that it\u0026nbsp;will also lead to\u0026nbsp;bad data locality and therefore not good compression.\u003c/p\u003e\n\u003cp\u003eEven when explicitly asking for a\u0026nbsp;more optimized version, it\u0026nbsp;just gave me\u0026nbsp;general hints on\u0026nbsp;what could be\u0026nbsp;done, but not specific enough to\u0026nbsp;be\u0026nbsp;useful for automation.\u003c/p\u003e\n\u003ch2 id=\"conclusion\"\u003e\u003ca href=\"#conclusion\" class=\"yfm-anchor\" aria-hidden=\"true\"\u003e\u003cspan class=\"visually-hidden\"\u003eConclusion\u003c/span\u003e\u003c/a\u003eConclusion\u003c/h2\u003e\n\u003cp\u003eSo\u0026nbsp;in\u0026nbsp;the end, one must say ChatGPT is\u0026nbsp;a\u0026nbsp;fantastic tool for some fast ramp-ups, but it\u0026nbsp;definitely lacks the experience of\u0026nbsp;a\u0026nbsp;database expert. You can use it\u0026nbsp;for some early prototypes, or\u0026nbsp;for giving you some valuable information, but it\u0026rsquo;s still far away from using it\u0026nbsp;as\u0026nbsp;an\u0026nbsp;automatism to\u0026nbsp;generate your Database Architecture or\u0026nbsp;optimize queries from one dialect to\u0026nbsp;another.\u003c/p\u003e"}]},{"type":"content-layout-block","background":{"src":"/assets/doublecloud/doublecloud-cover-4.png","style":{"backgroundColor":"#CA1551"}},"centered":false,"textContent":{"title":"Start your trial today","buttons":[{"text":"Start free trial","size":"promo","theme":"accent","url":"https://auth.double.cloud/s/signup"},{"text":"Contact us","theme":"pseudo","url":"#contact-us-form"}]}},{"type":"blog-suggest-block","resetPaddings":true,"fullWidth":false}]},"title":"Leveraging ChatGPT for seamless ClickHouse migrations: A new perspective","noIndex":false,"shareTitle":"Can ChatGPT do ClickHouse?","shareDescription":null,"shareImage":"/assets/blog/articles/chatgpt-clickhouse-sharing.jpg","pageLocaleId":206,"author":"unknown","metaDescription":"Discover the intriguing possibilities of using ChatGPT to simplify the complexities of migrating to ClickHouse. Dive into the challenges faced when transitioning from one DBMS to another and explore how AI, including ChatGPT, can potentially aid in code migration and query optimization. Is it time for DB experts to embrace AI's assistance? Find out in this thought-provoking article.","keywords":["chat-gpt","ai","sql"],"shareGenTitle":null,"canonicalLink":null,"sharingType":"custom","sharingTheme":"dark","comment":"add fetchProperty prop to header or bg","shareImageUrl":null,"pageRegionId":null,"service":null,"solution":null,"locales":[{"locale":"en","publishedVersionId":2134},{"locale":"ru","publishedVersionId":null}],"regions":[],"pageRegions":[]},"post":{"url":"","id":103,"name":"chatgpt-clickhouse","isPinned":false,"blogPostId":103,"image":"/assets/blog/articles/chatgpt-clickhouse-small-cover.jpg","readingTime":10,"date":"2023-06-08T00:00:00Z","likes":0,"hasUserLike":false,"services":[],"slug":"","authors":[],"locale":{"lang":"en"},"textTitle":"Can ChatGPT do ClickHouse?","htmlTitle":"Can ChatGPT do\u0026nbsp;ClickHouse?","title":"Can ChatGPT do ClickHouse?","tags":[{"icon":null,"slug":"insights","name":"Insights","createdAt":"","updatedAt":"","count":0},{"icon":null,"slug":"ClickHouse","name":"ClickHouse","createdAt":"","updatedAt":"","count":0}],"metaTitle":"Can ChatGPT do ClickHouse?","description":"\u003cp\u003eWritten By: Stefan Kaeser, DoubleCloud Solution Architect\u003c/p\u003e","content":"\u003cp\u003eIn\u0026nbsp;this article, we\u0026rsquo;ll talk about:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#asking-for-simple-things\"\u003eAsking for simple things\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#query-dialects\"\u003eQuery dialects\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#build-table-schema\"\u003eBuild table schema\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#conclusion\"\u003eConclusion\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eWhen we\u0026nbsp;talk to\u0026nbsp;potential customers, typically it\u0026rsquo;s not very hard to\u0026nbsp;convince them that ClickHouse is\u0026nbsp;one of\u0026nbsp;the best OLAP solutions out in\u0026nbsp;the market. You can show a\u0026nbsp;lot of\u0026nbsp;benchmarks, demonstrate fancy queries and explain the fun of\u0026nbsp;working with ClickHouse.\u003c/p\u003e\n\u003cp\u003eSo, when someone wants to\u0026nbsp;start a\u0026nbsp;new product, utilizing a\u0026nbsp;fast OLAP DBMS, ClickHouse often is\u0026nbsp;the first choice.\u003c/p\u003e\n\u003cp\u003eBut most customers don\u0026rsquo;t start a\u0026nbsp;new product. They come to\u0026nbsp;us\u0026nbsp;because they already have a\u0026nbsp;well-running product, but it\u0026nbsp;has outgrown their current solution, or\u0026nbsp;it\u0026nbsp;got too expensive to\u0026nbsp;still run on\u0026nbsp;easy-to-start systems like BigQuery.\u003c/p\u003e\n\u003cp\u003eFor these customers, typically it\u0026rsquo;s quite easy to\u0026nbsp;see why ClickHouse would be\u0026nbsp;the better solution because they have to\u0026nbsp;think about not only the technology but also about code migration.\u003c/p\u003e\n\u003cp\u003eAnd opposite of\u0026nbsp;typically thinking, most work involved when migrating to\u0026nbsp;another DBMS is\u0026nbsp;not to\u0026nbsp;migrate the data itself. These tasks are typically quite similar for a\u0026nbsp;lot of\u0026nbsp;customers, therefore there already exists a\u0026nbsp;lot of\u0026nbsp;documentation and examples of\u0026nbsp;how to\u0026nbsp;move multiple TB\u0026nbsp;(or\u0026nbsp;even PB) of\u0026nbsp;data from one system to\u0026nbsp;another.\u003c/p\u003e\n\u003cp\u003eNo, the biggest amount of\u0026nbsp;work always comes back to\u0026nbsp;the engineering department. The existing application might have hundreds of\u0026nbsp;queries which need to\u0026nbsp;be\u0026nbsp;changed.\u003c/p\u003e\n\u003cp\u003eBut even though there is\u0026nbsp;a\u0026nbsp;standard for SQL, it\u0026nbsp;has become quite a\u0026nbsp;habit for database creators to\u0026nbsp;also invent their own dialect of\u0026nbsp;SQL. And especially if\u0026nbsp;query performance is\u0026nbsp;relevant, keeping your queries close to\u0026nbsp;SQL standards might result in\u0026nbsp;working but bad-performing queries. That\u0026rsquo;s why experts in\u0026nbsp;different systems always can outperform query builders.\u003c/p\u003e\n\u003cp\u003eBut in\u0026nbsp;the end, this leads to\u0026nbsp;queries optimized for a\u0026nbsp;specific DBMS which won\u0026rsquo;t run at\u0026nbsp;all, or\u0026nbsp;run with worse performance on\u0026nbsp;another system.\u003c/p\u003e\n\u003cp\u003eAnd this is\u0026nbsp;where migrations to\u0026nbsp;different DBMSs get hard. Now, with the current hype about ChatGPT and other AI\u0026nbsp;solutions, we\u0026nbsp;were pondering: Can ChatGPT help with those tasks?\u003c/p\u003e\n\u003cp\u003eDon\u0026rsquo;t worry fellow DB\u0026nbsp;Experts, right now your job is\u0026nbsp;safe!\u003c/p\u003e\n\u003ch2 id=\"asking-for-simple-things\"\u003e\u003ca href=\"#asking-for-simple-things\" class=\"yfm-anchor\" aria-hidden=\"true\"\u003e\u003cspan class=\"visually-hidden\"\u003eAsking for simple things\u003c/span\u003e\u003c/a\u003eAsking for simple things\u003c/h2\u003e\n\u003cp\u003eTo\u0026nbsp;find out if\u0026nbsp;ChatGPT is\u0026nbsp;able to\u0026nbsp;help with DB\u0026nbsp;migrations, we\u0026nbsp;start out with something simple. If\u0026nbsp;you need to\u0026nbsp;migrate data from one system to\u0026nbsp;another, we\u0026nbsp;typically start with the basic schema of\u0026nbsp;tables and try to\u0026nbsp;recreate the structure in\u0026nbsp;the new system.\u003c/p\u003e\n\u003cp\u003eSo\u0026nbsp;let\u0026rsquo;s take a\u0026nbsp;simple DDL for a\u0026nbsp;MySQL table, and ask ChatGPT if\u0026nbsp;it\u0026nbsp;can convert it\u0026nbsp;into ClickHouse dialect:\u003c/p\u003e\n\n    \u003cdiv class=\"yfm-clipboard\"\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs\"\u003eCREATE TABLE `datatypes` (\n  `a` int NOT NULL,\n  `b_bool` tinyint(1) DEFAULT NULL,\n  `c_bit` bit(1) DEFAULT NULL,\n  PRIMARY KEY (`a`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci\n\u003c/code\u003e\u003c/pre\u003e\n\n    \u003csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"9\"\u003e\n        \u003cpath fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"\u003e\u003c/path\u003e\n        \u003cpath stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"\u003e\n            \u003canimate id=\"visibileAnimation-9\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin\u003e\u003c/animate\u003e\n            \u003canimate id=\"hideAnimation-9\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-9.end+1\" fill=\"freeze\"\u003e\u003c/animate\u003e\n        \u003c/path\u003e\n    \u003c/svg\u003e\n    \u003c/div\u003e\n\u003cp\u003eOf\u0026nbsp;course just a\u0026nbsp;simple structure, but for a\u0026nbsp;start, I\u0026nbsp;thought it\u0026nbsp;was fine, so\u0026nbsp;this is\u0026nbsp;what I\u0026nbsp;got from ChatGPT:\u003c/p\u003e\n\n    \u003cdiv class=\"yfm-clipboard\"\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs\"\u003eCREATE TABLE datatypes (\n  a Int32 NOT NULL,\n  b_bool UInt8 DEFAULT NULL,\n  c_bit UInt8 DEFAULT NULL,\n  PRIMARY KEY (a)\n) ENGINE = MergeTree()\nORDER BY a;\n\u003c/code\u003e\u003c/pre\u003e\n\n    \u003csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"13\"\u003e\n        \u003cpath fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"\u003e\u003c/path\u003e\n        \u003cpath stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"\u003e\n            \u003canimate id=\"visibileAnimation-13\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin\u003e\u003c/animate\u003e\n            \u003canimate id=\"hideAnimation-13\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-13.end+1\" fill=\"freeze\"\u003e\u003c/animate\u003e\n        \u003c/path\u003e\n    \u003c/svg\u003e\n    \u003c/div\u003e\n\u003cp\u003eSo\u0026nbsp;it\u0026nbsp;worked well, and it\u0026nbsp;not only gives us\u0026nbsp;a\u0026nbsp;DDL, but it\u0026nbsp;also gives an\u0026nbsp;explanation of\u0026nbsp;why it\u0026nbsp;converted the signed column b_bool into an\u0026nbsp;unsigned UInt8:\u003c/p\u003e\n\u003cp\u003eBecause tinyint (1) is\u0026nbsp;typically used for boolean values, while in\u0026nbsp;ClickHouse those are represented by\u0026nbsp;UInt8. The same goes for the bit (1) type.\u003c/p\u003e\n\u003cp\u003eSo\u0026nbsp;technically the new table structure is\u0026nbsp;incorrect, as\u0026nbsp;it\u0026nbsp;cannot store the same data as\u0026nbsp;the old data, but semantically the solution is\u0026nbsp;correct.\u003c/p\u003e\n\u003ch4 id=\"lets-try-a-second-example\"\u003e\u003ca href=\"#lets-try-a-second-example\" class=\"yfm-anchor\" aria-hidden=\"true\"\u003e\u003cspan class=\"visually-hidden\"\u003eLet\u0026rsquo;s try a\u0026nbsp;second example:\u003c/span\u003e\u003c/a\u003eLet\u0026rsquo;s try a\u0026nbsp;second example:\u003c/h4\u003e\n\n    \u003cdiv class=\"yfm-clipboard\"\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs\"\u003eCREATE TABLE `users` (\n  `groupId` int NOT NULL,\n  `userId` int NOT NULL,\n  `password_hash` binary(16) DEFAULT NULL,\n  `username` varchar(255) DEFAULT NULL,\n  PRIMARY KEY (`groupId`,`userId`),\n  KEY `uname` (`username`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci\n\u003c/code\u003e\u003c/pre\u003e\n\n    \u003csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"26\"\u003e\n        \u003cpath fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"\u003e\u003c/path\u003e\n        \u003cpath stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"\u003e\n            \u003canimate id=\"visibileAnimation-26\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin\u003e\u003c/animate\u003e\n            \u003canimate id=\"hideAnimation-26\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-26.end+1\" fill=\"freeze\"\u003e\u003c/animate\u003e\n        \u003c/path\u003e\n    \u003c/svg\u003e\n    \u003c/div\u003e\n\u003ch4 id=\"this-is-the-result\"\u003e\u003ca href=\"#this-is-the-result\" class=\"yfm-anchor\" aria-hidden=\"true\"\u003e\u003cspan class=\"visually-hidden\"\u003eThis is\u0026nbsp;the result:\u003c/span\u003e\u003c/a\u003eThis is\u0026nbsp;the result:\u003c/h4\u003e\n\n    \u003cdiv class=\"yfm-clipboard\"\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs\"\u003eCREATE TABLE users (\n  groupId Int32 NOT NULL,\n  userId Int32 NOT NULL,\n  password_hash FixedString(16) DEFAULT NULL,\n  username String DEFAULT NULL,\n  PRIMARY KEY (groupId, userId),\n  INDEX uname (username)\n) ENGINE = MergeTree()\nORDER BY (groupId, userId);\n\u003c/code\u003e\u003c/pre\u003e\n\n    \u003csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"30\"\u003e\n        \u003cpath fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"\u003e\u003c/path\u003e\n        \u003cpath stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"\u003e\n            \u003canimate id=\"visibileAnimation-30\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin\u003e\u003c/animate\u003e\n            \u003canimate id=\"hideAnimation-30\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-30.end+1\" fill=\"freeze\"\u003e\u003c/animate\u003e\n        \u003c/path\u003e\n    \u003c/svg\u003e\n    \u003c/div\u003e\n\u003cp\u003eIt\u0026nbsp;again converted the types correctly, giving explanations, why it\u0026nbsp;chose which types\u0026nbsp;etc. But unfortunately, the end result gives a\u0026nbsp;syntax error in\u0026nbsp;ClickHouse, as\u0026nbsp;additional indices are not as\u0026nbsp;easy to\u0026nbsp;create as\u0026nbsp;ChatGPT thinks.\u003c/p\u003e\n\u003cp\u003eI\u0026nbsp;tried to\u0026nbsp;ask ChatGPT to\u0026nbsp;fix its error, but it\u0026nbsp;just tried to\u0026nbsp;skip the index in\u0026nbsp;the first DDL and create it\u0026nbsp;in\u0026nbsp;a\u0026nbsp;separate statement, which also didn\u0026rsquo;t work.\u003c/p\u003e\n\u003cp\u003eIt\u0026nbsp;also gave me\u0026nbsp;an\u0026nbsp;explanation, that ClickHouse does not enforce NOT NULL in\u0026nbsp;not nullable columns. No\u0026nbsp;idea how it\u0026nbsp;came up\u0026nbsp;with this idea, as\u0026nbsp;ClickHouse definitely enforces the not null.\u003c/p\u003e\n\u003cp\u003eErgo, even with those good explanations, you should be\u0026nbsp;careful, as\u0026nbsp;not everything might be\u0026nbsp;correct, still, it\u0026nbsp;sounds quite convincing as\u0026nbsp;it\u0026nbsp;would be\u0026nbsp;right. (sounds like some humans you may know\u0026hellip;.)\u003c/p\u003e\n\u003ch2 id=\"query-dialects\"\u003e\u003ca href=\"#query-dialects\" class=\"yfm-anchor\" aria-hidden=\"true\"\u003e\u003cspan class=\"visually-hidden\"\u003eQuery dialects\u003c/span\u003e\u003c/a\u003eQuery dialects\u003c/h2\u003e\n\u003cp\u003eOk, so\u0026nbsp;we\u0026nbsp;saw that ChatGPT can convert DDL from one dialect to\u0026nbsp;another with some restrictions, but what about real queries?\u003c/p\u003e\n\u003cp\u003eWe\u0026nbsp;asked some of\u0026nbsp;our customers if\u0026nbsp;they can provide us\u0026nbsp;with some real queries they have to\u0026nbsp;migrate. First of\u0026nbsp;all, we\u0026nbsp;got an\u0026nbsp;example query from one of\u0026nbsp;our customers which runs on\u0026nbsp;BigQuery:\u003c/p\u003e\n\n    \u003cdiv class=\"yfm-clipboard\"\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs\"\u003eSELECT CASE\n          WHEN sq_2__search_console__period_0__ctr \u0026gt;= 0\n                AND sq_2__search_console__period_0__ctr \u0026lt; 5 THEN '0000_from_0_to_5'\n          WHEN sq_2__search_console__period_0__ctr \u0026gt;= 5\n                AND sq_2__search_console__period_0__ctr \u0026lt; 10 THEN '0001_from_5_to_10'\n          WHEN sq_2__search_console__period_0__ctr \u0026gt;= 10\n                AND sq_2__search_console__period_0__ctr \u0026lt; 20 THEN '0002_from_10_to_20'\n          WHEN sq_2__search_console__period_0__ctr \u0026gt;= 20\n                AND sq_2__search_console__period_0__ctr \u0026lt; 40 THEN '0003_from_20_to_40'\n          WHEN sq_2__search_console__period_0__ctr \u0026gt;= 40\n                AND sq_2__search_console__period_0__ctr \u0026lt; 70 THEN '0004_from_40_to_70'\n          WHEN sq_2__search_console__period_0__ctr \u0026gt;= 70 THEN '0005_from_70_to_'\n      END f_0,\n      IFNULL(SUM(sq_2__search_console__period_0__count_clicks), 0) f_1\nFROM\n  (SELECT sq_2.search_console__period_0__count_clicks sq_2__search_console__period_0__count_clicks,\n          sq_2.search_console__period_0__ctr sq_2__search_console__period_0__ctr\n  FROM\n    (SELECT ((SUM(clicks) / SUM(impressions)) * 100) search_console__period_0__ctr,\n            ANY_VALUE(url_hash) url_hash,\n            SUM(clicks) search_console__period_0__count_clicks,\n            url_keyword_hash\n      FROM\n        (SELECT *\n        FROM `production_64302.search_console_flat`\n        WHERE date BETWEEN '2023-01-28' AND '2023-02-26' )\n      GROUP BY url_keyword_hash) sq_2\n  FULL\n      OUTER JOIN\n    (SELECT *\n      FROM `.production_64302.crawl_1160774_1222833`\n      WHERE http_code \u0026lt;\u0026gt; 0 ) sq_1 ON sq_2.url_hash = sq_1.url_hash\n  WHERE NOT(sq_1.compliant__is_compliant) )\nGROUP BY f_0\nLIMIT 20000\n\u003c/code\u003e\u003c/pre\u003e\n\n    \u003csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"9\"\u003e\n        \u003cpath fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"\u003e\u003c/path\u003e\n        \u003cpath stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"\u003e\n            \u003canimate id=\"visibileAnimation-9\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin\u003e\u003c/animate\u003e\n            \u003canimate id=\"hideAnimation-9\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-9.end+1\" fill=\"freeze\"\u003e\u003c/animate\u003e\n        \u003c/path\u003e\n    \u003c/svg\u003e\n    \u003c/div\u003e\n\u003cp\u003eAs\u0026nbsp;you can see, it\u0026rsquo;s already quite complex, but this is\u0026nbsp;the real world and we\u0026nbsp;want to\u0026nbsp;see if\u0026nbsp;ChatGPT can help us\u0026nbsp;during a\u0026nbsp;migration process, and not only for fun, right? So\u0026nbsp;what do\u0026nbsp;we\u0026nbsp;get:\u003c/p\u003e\n\n    \u003cdiv class=\"yfm-clipboard\"\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs\"\u003eSELECT\n  CASE\n      WHEN sq_2__search_console__period_0__ctr \u0026gt;= 0 AND sq_2__search_console__period_0__ctr \u0026lt; 5 THEN '0000_from_0_to_5'\n      WHEN sq_2__search_console__period_0__ctr \u0026gt;= 5 AND sq_2__search_console__period_0__ctr \u0026lt; 10 THEN '0001_from_5_to_10'\n      WHEN sq_2__search_console__period_0__ctr \u0026gt;= 10 AND sq_2__search_console__period_0__ctr \u0026lt; 20 THEN '0002_from_10_to_20'\n      WHEN sq_2__search_console__period_0__ctr \u0026gt;= 20 AND sq_2__search_console__period_0__ctr \u0026lt; 40 THEN '0003_from_20_to_40'\n      WHEN sq_2__search_console__period_0__ctr \u0026gt;= 40 AND sq_2__search_console__period_0__ctr \u0026lt; 70 THEN '0004_from_40_to_70'\n      WHEN sq_2__search_console__period_0__ctr \u0026gt;= 70 THEN '0005_from_70_to_'\n  END AS f_0,\n  COALESCE(SUM(sq_2__search_console__period_0__count_clicks), 0) AS f_1\nFROM\n(\n  SELECT\n      sq_2.search_console__period_0__count_clicks AS sq_2__search_console__period_0__count_clicks,\n      sq_2.search_console__period_0__ctr AS sq_2__search_console__period_0__ctr\n  FROM\n  (\n      SELECT\n          (sum(clicks) / sum(impressions)) * 100 AS search_console__period_0__ctr,\n          anyLast(url_hash) AS url_hash,\n          sum(clicks) AS search_console__period_0__count_clicks,\n          url_keyword_hash\n      FROM\n      (\n          SELECT *\n          FROM search_console_flat\n          WHERE date BETWEEN '2023-01-28' AND '2023-02-26'\n      )\n      GROUP BY url_keyword_hash\n  ) AS sq_2\n  ANY FULL OUTER JOIN\n  (\n      SELECT *\n      FROM crawl_1160774_1222833\n      WHERE http_code \u0026lt;\u0026gt; 0\n  ) AS sq_1\n  ON sq_2.url_hash = sq_1.url_hash\n  WHERE NOT sq_1.compliant__is_compliant\n)\nGROUP BY f_0\nLIMIT 20000;\n\u003c/code\u003e\u003c/pre\u003e\n\n    \u003csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"13\"\u003e\n        \u003cpath fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"\u003e\u003c/path\u003e\n        \u003cpath stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"\u003e\n            \u003canimate id=\"visibileAnimation-13\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin\u003e\u003c/animate\u003e\n            \u003canimate id=\"hideAnimation-13\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-13.end+1\" fill=\"freeze\"\u003e\u003c/animate\u003e\n        \u003c/path\u003e\n    \u003c/svg\u003e\n    \u003c/div\u003e\n\u003cp\u003eIn\u0026nbsp;the end, it\u0026nbsp;just translated the logic, but nothing more. I\u0026nbsp;asked ChatGPT if\u0026nbsp;it\u0026nbsp;can optimize the query, and it\u0026nbsp;gave me\u0026nbsp;some useful hints, again with some good explanations for beginners to\u0026nbsp;learn.\u003c/p\u003e\n\u003cp\u003eThen I\u0026nbsp;tried to\u0026nbsp;trick it\u0026nbsp;a\u0026nbsp;little\u0026nbsp;bit. Our customer sent me\u0026nbsp;a\u0026nbsp;list of\u0026nbsp;Queries, but the tool they used, did some text encodings, so\u0026nbsp;the query was not easy to\u0026nbsp;read for the human eye anymore:\u003c/p\u003e\n\n    \u003cdiv class=\"yfm-clipboard\"\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs\"\u003eSELECT CASE WHEN sq_1__nb_words \\u003e\\u003d 1 AND sq_1__nb_words \\u003c 4 THEN \\u00270000_from_1_to_4\\u0027 WHEN sq_1__nb_words \\u003e\\u003d 4 AND sq_1__nb_words \\u003c 7 THEN \\u00270001_from_4_to_7\\u0027 WHEN sq_1__nb_words \\u003e\\u003d 7 THEN \\u00270002_from_7_to_\\u0027 END f_0, IFNULL(SUM(sq_1__search_console__period_0__count_clicks), 0) f_1 FROM (SELECT sq_1.nb_words sq_1__nb_words, sq_1.search_console__period_0__count_clicks sq_1__search_console__period_0__count_clicks FROM (SELECT ANY_VALUE(branded) branded, ANY_VALUE(nb_words) nb_words, ANY_VALUE(segments__pagetype__value) segments__pagetype__value, ANY_VALUE(url_hash) url_hash, SUM(clicks) search_console__period_0__count_clicks, url_keyword_hash FROM (SELECT * FROM `production_52366.search_console_flat` WHERE date BETWEEN \\u00272023-04-10\\u0027 AND \\u00272023-05-07\\u0027) WHERE (STARTS_WITH(segments__pagetype__value, \\u0027category/\\u0027) OR segments__pagetype__value \\u003d \\u0027category\\u0027) AND NOT(STARTS_WITH(segments__pagetype__value, \\u0027category/results-page/\\u0027) OR segments__pagetype__value \\u003d \\u0027category/results-page\\u0027) AND NOT(branded) GROUP BY url_keyword_hash) sq_1) GROUP BY f_0 LIMIT 20000\n\u003c/code\u003e\u003c/pre\u003e\n\n    \u003csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"20\"\u003e\n        \u003cpath fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"\u003e\u003c/path\u003e\n        \u003cpath stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"\u003e\n            \u003canimate id=\"visibileAnimation-20\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin\u003e\u003c/animate\u003e\n            \u003canimate id=\"hideAnimation-20\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-20.end+1\" fill=\"freeze\"\u003e\u003c/animate\u003e\n        \u003c/path\u003e\n    \u003c/svg\u003e\n    \u003c/div\u003e\n\u003cp\u003eNow ChatGPT could easily fix the encoding, and gave me\u0026nbsp;a\u0026nbsp;query, but it\u0026nbsp;was only partially in\u0026nbsp;ClickHouse dialect. For whatever reason this time it\u0026nbsp;didn\u0026rsquo;t convert the ANY_VALUE function which it\u0026nbsp;already did in\u0026nbsp;the previous example.\u003c/p\u003e\n\u003cp\u003eI\u0026nbsp;hinted at\u0026nbsp;ChatGPT to\u0026nbsp;its error, so\u0026nbsp;the next iteration of\u0026nbsp;the query then worked.\u003c/p\u003e\n\u003cp\u003eSo\u0026nbsp;in\u0026nbsp;the end, ChatGPT can help you translate queries for some PoCs, but you still need to\u0026nbsp;manage yourself to\u0026nbsp;optimise for the best performance, an\u0026nbsp;auto-conversion process won\u0026rsquo;t work.\u003c/p\u003e\n\u003ch2 id=\"build-table-schema\"\u003e\u003ca href=\"#build-table-schema\" class=\"yfm-anchor\" aria-hidden=\"true\"\u003e\u003cspan class=\"visually-hidden\"\u003eBuild table schema\u003c/span\u003e\u003c/a\u003eBuild table schema\u003c/h2\u003e\n\u003cp\u003eSpeaking of\u0026nbsp;PoCs. One of\u0026nbsp;the hardest things in\u0026nbsp;a\u0026nbsp;new project is\u0026nbsp;always the beginning. Let\u0026rsquo;s find out if\u0026nbsp;ChatGPT can help there, can it\u0026nbsp;create some basic tables for me?\u003c/p\u003e\n\u003cp\u003eAs\u0026nbsp;an\u0026nbsp;example, I\u0026nbsp;thought of\u0026nbsp;some log data to\u0026nbsp;store in\u0026nbsp;ClickHouse. I, therefore, installed collectd on\u0026nbsp;a\u0026nbsp;test machine, and let it\u0026nbsp;generate some data in\u0026nbsp;its JSON format.\u003c/p\u003e\n\u003cp\u003eThen I\u0026nbsp;took one row of\u0026nbsp;the data and asked ChatGPT to\u0026nbsp;provide me\u0026nbsp;with an\u0026nbsp;efficient table structure based on\u0026nbsp;the single JSON row. I\u0026nbsp;gave it\u0026nbsp;some context, that it\u0026nbsp;is\u0026nbsp;log data collected and that I\u0026nbsp;want to\u0026nbsp;store it\u0026nbsp;as\u0026nbsp;efficiently as\u0026nbsp;possible.\u003c/p\u003e\n\u003cp\u003eThe sample data i\u0026nbsp;used looked like this:\u003c/p\u003e\n\u003cp\u003e[{\"values\u0026rdquo;:[0],\"dstypes\u0026rdquo;:[\u0026ldquo;gauge\u0026rdquo;],\"dsnames\u0026rdquo;:[\u0026ldquo;value\u0026rdquo;],\"time\u0026rdquo;:1684941133.135,\"interval\u0026rdquo;:10.000,\"host\u0026rdquo;:\"loki\u0026rdquo;,\"plugin\u0026rdquo;:\"cpu\u0026rdquo;,\"plugin_instance\u0026rdquo;:\"5\u0026rdquo;,\"type\u0026rdquo;:\"percent\u0026rdquo;,\"type_instance\u0026rdquo;:\"interrupt\"}]\u003c/p\u003e\n\u003cp\u003eChatGPT provided the following table structure:\u003c/p\u003e\n\n    \u003cdiv class=\"yfm-clipboard\"\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs\"\u003eCREATE TABLE my_table (\n  values Array(Float64),\n  dstypes Array(String),\n  dsnames Array(String),\n  time Float64,\n  interval Float64,\n  host String,\n  plugin String,\n  plugin_instance String,\n  type String,\n  type_instance String\n) ENGINE = MergeTree()\nORDER BY time;\n\u003c/code\u003e\u003c/pre\u003e\n\n    \u003csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"51\"\u003e\n        \u003cpath fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"\u003e\u003c/path\u003e\n        \u003cpath stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"\u003e\n            \u003canimate id=\"visibileAnimation-51\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin\u003e\u003c/animate\u003e\n            \u003canimate id=\"hideAnimation-51\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-51.end+1\" fill=\"freeze\"\u003e\u003c/animate\u003e\n        \u003c/path\u003e\n    \u003c/svg\u003e\n    \u003c/div\u003e\n\u003cp\u003eActually, I\u0026nbsp;think it\u0026rsquo;s quite impressive, what it\u0026nbsp;can create out of\u0026nbsp;so\u0026nbsp;little information, but you can easily see there is\u0026nbsp;little to\u0026nbsp;no\u0026nbsp;optimization. Typically you would use LowCardinality for most of\u0026nbsp;the String columns, as\u0026nbsp;it\u0026rsquo;s not likely to\u0026nbsp;have millions of\u0026nbsp;different hosts or\u0026nbsp;plugins. Also, the chosen ORDER BY\u0026nbsp;time is\u0026nbsp;suboptimal for storing a\u0026nbsp;lot of\u0026nbsp;log data.\u003c/p\u003e\n\u003cp\u003eIt\u0026nbsp;explains that with this ORDER BY, you can facilitate efficient querying of\u0026nbsp;time series data. Still, ChatGPT forgets to\u0026nbsp;mention that it\u0026nbsp;will also lead to\u0026nbsp;bad data locality and therefore not good compression.\u003c/p\u003e\n\u003cp\u003eEven when explicitly asking for a\u0026nbsp;more optimized version, it\u0026nbsp;just gave me\u0026nbsp;general hints on\u0026nbsp;what could be\u0026nbsp;done, but not specific enough to\u0026nbsp;be\u0026nbsp;useful for automation.\u003c/p\u003e\n\u003ch2 id=\"conclusion\"\u003e\u003ca href=\"#conclusion\" class=\"yfm-anchor\" aria-hidden=\"true\"\u003e\u003cspan class=\"visually-hidden\"\u003eConclusion\u003c/span\u003e\u003c/a\u003eConclusion\u003c/h2\u003e\n\u003cp\u003eSo\u0026nbsp;in\u0026nbsp;the end, one must say ChatGPT is\u0026nbsp;a\u0026nbsp;fantastic tool for some fast ramp-ups, but it\u0026nbsp;definitely lacks the experience of\u0026nbsp;a\u0026nbsp;database expert. You can use it\u0026nbsp;for some early prototypes, or\u0026nbsp;for giving you some valuable information, but it\u0026rsquo;s still far away from using it\u0026nbsp;as\u0026nbsp;an\u0026nbsp;automatism to\u0026nbsp;generate your Database Architecture or\u0026nbsp;optimize queries from one dialect to\u0026nbsp;another.\u003c/p\u003e\n"},"suggestedPosts":[{"url":"/blog/posts/2023/04/5-reasons-why-clickhouse-is-the-database-for-end-user-analytics","id":89,"name":"5-reasons-why-clickhouse-is-the-database-for-end-user-analytics","date":"2023-04-19T00:00:00Z","description":"","readingTime":10,"image":"/assets/blog/articles/5-reasons-why-clickhouse-is-the-database-for-end-user-analytics-small-cover.jpg","blogPostId":89,"likes":0,"hasUserLike":false,"slug":"","title":"5 Reasons why ClickHouse is ‘the’ database for end-user analytics","authors":[],"tags":[],"locale":{"lang":"en"},"textTitle":"5 Reasons why ClickHouse is ‘the’ database for end-user analytics","htmlTitle":"5 Reasons why ClickHouse is ‘the’ database for end-user analytics"},{"url":"/blog/posts/2023/04/clickhouse-as-storage-engine-for-mysql","id":92,"name":"clickhouse-as-storage-engine-for-mysql","date":"2023-04-24T00:00:00Z","description":"Written By: Stefan Kaeser, DoubleCloud Senior Solution Architect","readingTime":10,"image":"/assets/blog/articles/clickhouse-as-storage-engine-for-mysql-small-cover.jpg","blogPostId":92,"likes":0,"hasUserLike":false,"slug":"","title":"ClickHouse as storage engine for MySQL? An experimental approach","authors":[],"tags":[],"locale":{"lang":"en"},"textTitle":"ClickHouse as storage engine for MySQL? An experimental approach","htmlTitle":"ClickHouse as storage engine for MySQL? An experimental approach"},{"url":"/blog/posts/2023/05/visualize-your-clickhouse-storage-with-doublecloud","id":97,"name":"visualize-your-clickhouse-storage-with-doublecloud","date":"2023-05-15T00:00:00Z","description":"Written By: Amos Gutman, DoubleCloud Senior Solution Architect","readingTime":10,"image":"/assets/blog/articles/visualize-your-clickhouse-storage-with-doublecloud-small-cover.jpg","blogPostId":97,"likes":0,"hasUserLike":false,"slug":"","title":"Visualize your ClickHouse storage with DoubleCloud","authors":[],"tags":[],"locale":{"lang":"en"},"textTitle":"Visualize your ClickHouse storage with DoubleCloud","htmlTitle":"Visualize your ClickHouse storage with DoubleCloud"}]}},"navigationData":{"newMenu":true,"header":{"leftItems":[{"text":"Why DoubleCloud","type":"dc-dropdown","data":{"view":"list","groups":[{"items":[{"text":"Performance","url":"/performance-boost/","description":"Get the best performance with the highest ROI"},{"text":"Security","url":"/security/","description":"Keep your data protected and maintain compliance"},{"text":"DoubleCloud vs. other solutions","url":"/comparison/","description":"Learn how DoubleCloud’s products compare to other solutions"},{"text":"Customer stories","url":"/resources/case-studies/","description":"See our solutions in action"}]},{"image":{"src":"/assets/doublecloud/menu-bar/menu-banner-dc-results.png.webp","style":{"width":300,"height":300}},"text":"\u003ca href='/performance-boost/' target='_self'\u003eGet more and spend less with DoubleCloud  →\u003c/a\u003e"}]}},{"text":"Products","type":"dc-dropdown","metaSchema":{"@graph":[{"@type":"SoftwareApplication","sameAs":["https://twitter.com/getdoublecloud","https://www.youtube.com/@doublecloud2499","https://www.linkedin.com/company/doublecloudplatform/","https://www.facebook.com/GetDoubleCloud/"]},{"@context":"https://schema.org","@type":"Organization","foundingDate":2022,"contactPoint":{"@type":"ContactPoint","contactType":"customer support","telephone":"+1 302-658-7581","email":"info@double.cloud"},"sameAs":["https://twitter.com/getdoublecloud","https://www.youtube.com/@doublecloud2499","https://www.linkedin.com/company/doublecloudplatform/","https://www.facebook.com/GetDoubleCloud/"]}]},"data":{"items":[{"text":"Managed Service for ClickHouse®","url":"/services/managed-clickhouse/","icon":"/assets/icons/dc-clickhouse.svg","description":"The fastest, most resource-efficient OLAP database for real-time analytics"},{"text":"Managed Service for Apache Kafka®","url":"/services/managed-kafka/","icon":"/assets/icons/dc-kafka.svg","description":"A leading data streaming technology for large-scale, data-intensive applications"},{"text":"Managed Service for Apache Airflow®","url":"/services/managed-airflow/","icon":"/assets/icons/dc-airflow.svg","description":"Open-source tool to orchestrate and monitor workflows"},{"text":"Data Transfer","url":"/services/doublecloud-transfer/","icon":"/assets/icons/dc-transfer.svg","description":"No-code ELT tool for aggregating, collecting, and migrating data"},{"text":"Data Visualization","url":"/services/doublecloud-visualization/","icon":"/assets/icons/dc-data-vis.svg","description":"Free tool to create, modify, and share dashboards and charts"}]}},{"text":"Solutions","type":"dc-dropdown","data":{"view":"list","groups":[{"title":"By use case","items":[{"text":"Customer-facing analytics","url":"/solutions/customer-facing-analytics/","description":"Provide business insights for your clients or partners"},{"text":"Real-time analytics","url":"/solutions/real-time-analytics/","description":"Build a data infrastructure to collect, process, and analyze data in real time"},{"text":"Observability and monitoring","url":"/solutions/observability-and-monitoring/","description":"Analyze terabytes of your logs, events, and traces with ease"}]},{"title":"By industry","items":[{"text":"AdTech and MarTech data analytics","url":"/solutions/adtech/","description":"Extract and analyze data from Meta ads, Google ads, LinkedIn ads, and others"},{"text":"Analytics for mobile and gaming apps","url":"/solutions/web-mobile-gaming-apps/","description":"Optimize and scale your mobile and gaming app analytics"},{"text":"EdTech data analytics","url":"/solutions/edtech/","description":"Improve online learning and identify new sales opportunities"},{"text":"FinTech data analytics","url":"/solutions/fintech-real-time-analytics/","description":"Manage and process large amounts of financial data efficiently"}]}]}},{"text":"Resources","type":"dc-dropdown","data":{"view":"list","groups":[{"title":"Using DoubleCloud","items":[{"text":"DoubleCloud API","url":"/docs/en/public-api/","description":"Read up on API tutorials and instructions","target":"_self"},{"text":"Terraform","url":"/docs/en/developer-resources/terraform/create-resources","description":"Deploy and manage cloud resources with the infrastructure-as-code approach"},{"text":"Status updates","url":"https://status.double.cloud/","description":"Check the current operational status of our services"},{"text":"Support","url":"/support/","description":"Learn more about our support tiers"}]},{"title":"Discover","items":[{"text":"Webinars","url":"/webinars/","description":"Sign up for the next webinar or watch previous ones"},{"text":"Blog","url":"/blog/","description":"Get insights from our team and the latest news"}]},{"image":{"src":"/assets/doublecloud/menu-bar/menu-banners-dc-ebook.png.webp","style":{"width":300,"height":300}},"text":"\u003ca href='/resources/clickhouse-ebook/' target='_self'\u003eGrab your ebook  →\u003c/a\u003e"}]}},{"text":"Company","type":"dc-dropdown","data":{"items":[{"text":"About DoubleCloud","url":"/company/about-us/"},{"text":"Careers","url":"/company/careers/"},{"text":"Contact us","url":"/company/contact-us/"}]}},{"text":"Pricing","url":"/pricing/"},{"text":"Documentation","url":"/docs/en/","target":"_self"}],"rightItems":[{"type":"button","text":"Slack","url":"https://join.slack.com/t/double-cloud/shared_invite/zt-1pbz9lfte-5GoIX~8CmVYqmVQfRFPNdA","img":"/assets/icons/slack.svg","theme":"flat"},{"type":"button","text":"Contact us","theme":"flat","url":"#contact-us-form"},{"type":"button","text":"Console","url":"https://app.double.cloud","theme":"accent"}]},"logo":{"icon":"/assets/logo/dc-logo-dark.svg","text":""},"footer":{"subscriptionForm":{"header":"Subscribe to our newsletter","footer":"By submitting this form, you agree to our \u003ca href=\"/legal/en/privacy/\"\u003ePrivacy policy\u003c/a\u003e","form":{"scriptSrc":"//js-eu1.hsforms.net/forms/embed/v2.js","region":"eu1","portalId":"25659674","formId":"b9015518-c7ea-4173-a96b-a251994635e3"}},"underline":{"links":[{"text":"Customer Agreement","url":"/legal/en/customer_agreement/","target":"_blank"},{"text":"Privacy Policy","url":"/legal/en/privacy/","target":"_blank"},{"text":"Pricing","url":"/pricing/"},{"text":"Security","url":"/security/","target":"_blank"}],"copyright":"© 2024 DoubleCloud"},"columns":[{"title":"Products","links":[{"text":"Managed Service for ClickHouse®","url":"/services/managed-clickhouse/"},{"text":"Managed Service for Apache Kafka®","url":"/services/managed-kafka/"},{"text":"Managed Service for Apache Airflow®","url":"/services/managed-airflow"},{"text":"Data Transfer","url":"/services/doublecloud-transfer/"},{"text":"Data Visualization","url":"/services/doublecloud-visualization"}]},{"title":"Solutions","links":[{"text":"Case studies","url":"/resources/case-studies/"},{"text":"Customer-facing analytics","url":"/solutions/customer-facing-analytics/"},{"text":"Real-time analytics","url":"/solutions/real-time-analytics/"},{"text":"Observability and monitoring","url":"/solutions/observability-and-monitoring/"},{"text":"AdTech and MarTech data analytics","url":"/solutions/adtech/"},{"text":"Analytics for mobile and gaming Apps","url":"/solutions/web-mobile-gaming-apps/"},{"text":"EdTech data analytics","url":"/solutions/edtech/"},{"text":"FinTech data analytics","url":"/solutions/fintech-real-time-analytics/"}]},{"title":"Resources","links":[{"text":"Documentation","url":"/docs/en/"},{"text":"Webinars","url":"/webinars/"},{"text":"Blog","url":"/blog/"},{"text":"Slack","url":"https://join.slack.com/t/double-cloud/shared_invite/zt-1pbz9lfte-5GoIX~8CmVYqmVQfRFPNdA"},{"text":"Support","url":"/support/"},{"text":"Status updates","url":"https://status.double.cloud/"},{"text":"Product comparisons","url":"/comparison/"},{"text":"Site map","url":"/sitemap/"}]},{"title":"Company","links":[{"text":"About DoubleCloud","url":"/company/about-us/"},{"text":"Careers","url":"/company/careers"},{"text":"AWS Partnership","url":"/aws-partnership/"},{"text":"Contact us","url":"/company/contact-us/"}]}]},"forms":{"contact":"11819433.daba96b39df83b7903708cc4842e9dbb9c944cce"},"favicon":{"folder":"/assets/favicon"},"analytics":{"id":"GTM-5M39N8J","ignore":true,"popup":{"text":"\u003cp\u003eBy\u0026nbsp;clicking \u0026ldquo;Accept\u0026rdquo;, you agree to\u0026nbsp;the storing of\u0026nbsp;cookies on\u0026nbsp;your device to\u0026nbsp;help us\u0026nbsp;analyze site usage and assist in\u0026nbsp;our marketing efforts. However, you may \u0026ldquo;Decline\u0026rdquo; that. More details here in\u0026nbsp;\u003ca href=\"/legal/en/privacy/\"\u003ePrivacy Policy\u003c/a\u003e\u003c/p\u003e","buttons":{"accept":{"size":"xl","text":"Accept"},"decline":{"size":"xl","text":"Decline"}}}}},"meta":{"title":"Leveraging ChatGPT for seamless ClickHouse migrations: A new perspective | DoubleCloud","date":"2023-06-08T00:00:00Z","image":"/assets/blog/articles/chatgpt-clickhouse-sharing.jpg","canonicalUrl":"","organization":{"appTitle":"DoubleCloud","legalName":"DoubleCloud Inc","supportEmail":"","url":"https://double.cloud"},"description":"Discover the intriguing possibilities of using ChatGPT to simplify the complexities of migrating to ClickHouse. Dive into the challenges faced when transitioning from one DBMS to another and explore how AI, including ChatGPT, can potentially aid in code migration and query optimization. Is it time for DB experts to embrace AI's assistance? Find out in this thought-provoking article.","content":"\u003cp\u003eIn\u0026nbsp;this article, we\u0026rsquo;ll talk about:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"#asking-for-simple-things\"\u003eAsking for simple things\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#query-dialects\"\u003eQuery dialects\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#build-table-schema\"\u003eBuild table schema\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"#conclusion\"\u003eConclusion\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eWhen we\u0026nbsp;talk to\u0026nbsp;potential customers, typically it\u0026rsquo;s not very hard to\u0026nbsp;convince them that ClickHouse is\u0026nbsp;one of\u0026nbsp;the best OLAP solutions out in\u0026nbsp;the market. You can show a\u0026nbsp;lot of\u0026nbsp;benchmarks, demonstrate fancy queries and explain the fun of\u0026nbsp;working with ClickHouse.\u003c/p\u003e\n\u003cp\u003eSo, when someone wants to\u0026nbsp;start a\u0026nbsp;new product, utilizing a\u0026nbsp;fast OLAP DBMS, ClickHouse often is\u0026nbsp;the first choice.\u003c/p\u003e\n\u003cp\u003eBut most customers don\u0026rsquo;t start a\u0026nbsp;new product. They come to\u0026nbsp;us\u0026nbsp;because they already have a\u0026nbsp;well-running product, but it\u0026nbsp;has outgrown their current solution, or\u0026nbsp;it\u0026nbsp;got too expensive to\u0026nbsp;still run on\u0026nbsp;easy-to-start systems like BigQuery.\u003c/p\u003e\n\u003cp\u003eFor these customers, typically it\u0026rsquo;s quite easy to\u0026nbsp;see why ClickHouse would be\u0026nbsp;the better solution because they have to\u0026nbsp;think about not only the technology but also about code migration.\u003c/p\u003e\n\u003cp\u003eAnd opposite of\u0026nbsp;typically thinking, most work involved when migrating to\u0026nbsp;another DBMS is\u0026nbsp;not to\u0026nbsp;migrate the data itself. These tasks are typically quite similar for a\u0026nbsp;lot of\u0026nbsp;customers, therefore there already exists a\u0026nbsp;lot of\u0026nbsp;documentation and examples of\u0026nbsp;how to\u0026nbsp;move multiple TB\u0026nbsp;(or\u0026nbsp;even PB) of\u0026nbsp;data from one system to\u0026nbsp;another.\u003c/p\u003e\n\u003cp\u003eNo, the biggest amount of\u0026nbsp;work always comes back to\u0026nbsp;the engineering department. The existing application might have hundreds of\u0026nbsp;queries which need to\u0026nbsp;be\u0026nbsp;changed.\u003c/p\u003e\n\u003cp\u003eBut even though there is\u0026nbsp;a\u0026nbsp;standard for SQL, it\u0026nbsp;has become quite a\u0026nbsp;habit for database creators to\u0026nbsp;also invent their own dialect of\u0026nbsp;SQL. And especially if\u0026nbsp;query performance is\u0026nbsp;relevant, keeping your queries close to\u0026nbsp;SQL standards might result in\u0026nbsp;working but bad-performing queries. That\u0026rsquo;s why experts in\u0026nbsp;different systems always can outperform query builders.\u003c/p\u003e\n\u003cp\u003eBut in\u0026nbsp;the end, this leads to\u0026nbsp;queries optimized for a\u0026nbsp;specific DBMS which won\u0026rsquo;t run at\u0026nbsp;all, or\u0026nbsp;run with worse performance on\u0026nbsp;another system.\u003c/p\u003e\n\u003cp\u003eAnd this is\u0026nbsp;where migrations to\u0026nbsp;different DBMSs get hard. Now, with the current hype about ChatGPT and other AI\u0026nbsp;solutions, we\u0026nbsp;were pondering: Can ChatGPT help with those tasks?\u003c/p\u003e\n\u003cp\u003eDon\u0026rsquo;t worry fellow DB\u0026nbsp;Experts, right now your job is\u0026nbsp;safe!\u003c/p\u003e\n\u003ch2 id=\"asking-for-simple-things\"\u003e\u003ca href=\"#asking-for-simple-things\" class=\"yfm-anchor\" aria-hidden=\"true\"\u003e\u003cspan class=\"visually-hidden\"\u003eAsking for simple things\u003c/span\u003e\u003c/a\u003eAsking for simple things\u003c/h2\u003e\n\u003cp\u003eTo\u0026nbsp;find out if\u0026nbsp;ChatGPT is\u0026nbsp;able to\u0026nbsp;help with DB\u0026nbsp;migrations, we\u0026nbsp;start out with something simple. If\u0026nbsp;you need to\u0026nbsp;migrate data from one system to\u0026nbsp;another, we\u0026nbsp;typically start with the basic schema of\u0026nbsp;tables and try to\u0026nbsp;recreate the structure in\u0026nbsp;the new system.\u003c/p\u003e\n\u003cp\u003eSo\u0026nbsp;let\u0026rsquo;s take a\u0026nbsp;simple DDL for a\u0026nbsp;MySQL table, and ask ChatGPT if\u0026nbsp;it\u0026nbsp;can convert it\u0026nbsp;into ClickHouse dialect:\u003c/p\u003e\n\n    \u003cdiv class=\"yfm-clipboard\"\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs\"\u003eCREATE TABLE `datatypes` (\n  `a` int NOT NULL,\n  `b_bool` tinyint(1) DEFAULT NULL,\n  `c_bit` bit(1) DEFAULT NULL,\n  PRIMARY KEY (`a`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci\n\u003c/code\u003e\u003c/pre\u003e\n\n    \u003csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"9\"\u003e\n        \u003cpath fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"\u003e\u003c/path\u003e\n        \u003cpath stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"\u003e\n            \u003canimate id=\"visibileAnimation-9\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin\u003e\u003c/animate\u003e\n            \u003canimate id=\"hideAnimation-9\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-9.end+1\" fill=\"freeze\"\u003e\u003c/animate\u003e\n        \u003c/path\u003e\n    \u003c/svg\u003e\n    \u003c/div\u003e\n\u003cp\u003eOf\u0026nbsp;course just a\u0026nbsp;simple structure, but for a\u0026nbsp;start, I\u0026nbsp;thought it\u0026nbsp;was fine, so\u0026nbsp;this is\u0026nbsp;what I\u0026nbsp;got from ChatGPT:\u003c/p\u003e\n\n    \u003cdiv class=\"yfm-clipboard\"\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs\"\u003eCREATE TABLE datatypes (\n  a Int32 NOT NULL,\n  b_bool UInt8 DEFAULT NULL,\n  c_bit UInt8 DEFAULT NULL,\n  PRIMARY KEY (a)\n) ENGINE = MergeTree()\nORDER BY a;\n\u003c/code\u003e\u003c/pre\u003e\n\n    \u003csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"13\"\u003e\n        \u003cpath fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"\u003e\u003c/path\u003e\n        \u003cpath stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"\u003e\n            \u003canimate id=\"visibileAnimation-13\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin\u003e\u003c/animate\u003e\n            \u003canimate id=\"hideAnimation-13\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-13.end+1\" fill=\"freeze\"\u003e\u003c/animate\u003e\n        \u003c/path\u003e\n    \u003c/svg\u003e\n    \u003c/div\u003e\n\u003cp\u003eSo\u0026nbsp;it\u0026nbsp;worked well, and it\u0026nbsp;not only gives us\u0026nbsp;a\u0026nbsp;DDL, but it\u0026nbsp;also gives an\u0026nbsp;explanation of\u0026nbsp;why it\u0026nbsp;converted the signed column b_bool into an\u0026nbsp;unsigned UInt8:\u003c/p\u003e\n\u003cp\u003eBecause tinyint (1) is\u0026nbsp;typically used for boolean values, while in\u0026nbsp;ClickHouse those are represented by\u0026nbsp;UInt8. The same goes for the bit (1) type.\u003c/p\u003e\n\u003cp\u003eSo\u0026nbsp;technically the new table structure is\u0026nbsp;incorrect, as\u0026nbsp;it\u0026nbsp;cannot store the same data as\u0026nbsp;the old data, but semantically the solution is\u0026nbsp;correct.\u003c/p\u003e\n\u003ch4 id=\"lets-try-a-second-example\"\u003e\u003ca href=\"#lets-try-a-second-example\" class=\"yfm-anchor\" aria-hidden=\"true\"\u003e\u003cspan class=\"visually-hidden\"\u003eLet\u0026rsquo;s try a\u0026nbsp;second example:\u003c/span\u003e\u003c/a\u003eLet\u0026rsquo;s try a\u0026nbsp;second example:\u003c/h4\u003e\n\n    \u003cdiv class=\"yfm-clipboard\"\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs\"\u003eCREATE TABLE `users` (\n  `groupId` int NOT NULL,\n  `userId` int NOT NULL,\n  `password_hash` binary(16) DEFAULT NULL,\n  `username` varchar(255) DEFAULT NULL,\n  PRIMARY KEY (`groupId`,`userId`),\n  KEY `uname` (`username`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci\n\u003c/code\u003e\u003c/pre\u003e\n\n    \u003csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"26\"\u003e\n        \u003cpath fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"\u003e\u003c/path\u003e\n        \u003cpath stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"\u003e\n            \u003canimate id=\"visibileAnimation-26\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin\u003e\u003c/animate\u003e\n            \u003canimate id=\"hideAnimation-26\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-26.end+1\" fill=\"freeze\"\u003e\u003c/animate\u003e\n        \u003c/path\u003e\n    \u003c/svg\u003e\n    \u003c/div\u003e\n\u003ch4 id=\"this-is-the-result\"\u003e\u003ca href=\"#this-is-the-result\" class=\"yfm-anchor\" aria-hidden=\"true\"\u003e\u003cspan class=\"visually-hidden\"\u003eThis is\u0026nbsp;the result:\u003c/span\u003e\u003c/a\u003eThis is\u0026nbsp;the result:\u003c/h4\u003e\n\n    \u003cdiv class=\"yfm-clipboard\"\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs\"\u003eCREATE TABLE users (\n  groupId Int32 NOT NULL,\n  userId Int32 NOT NULL,\n  password_hash FixedString(16) DEFAULT NULL,\n  username String DEFAULT NULL,\n  PRIMARY KEY (groupId, userId),\n  INDEX uname (username)\n) ENGINE = MergeTree()\nORDER BY (groupId, userId);\n\u003c/code\u003e\u003c/pre\u003e\n\n    \u003csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"30\"\u003e\n        \u003cpath fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"\u003e\u003c/path\u003e\n        \u003cpath stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"\u003e\n            \u003canimate id=\"visibileAnimation-30\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin\u003e\u003c/animate\u003e\n            \u003canimate id=\"hideAnimation-30\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-30.end+1\" fill=\"freeze\"\u003e\u003c/animate\u003e\n        \u003c/path\u003e\n    \u003c/svg\u003e\n    \u003c/div\u003e\n\u003cp\u003eIt\u0026nbsp;again converted the types correctly, giving explanations, why it\u0026nbsp;chose which types\u0026nbsp;etc. But unfortunately, the end result gives a\u0026nbsp;syntax error in\u0026nbsp;ClickHouse, as\u0026nbsp;additional indices are not as\u0026nbsp;easy to\u0026nbsp;create as\u0026nbsp;ChatGPT thinks.\u003c/p\u003e\n\u003cp\u003eI\u0026nbsp;tried to\u0026nbsp;ask ChatGPT to\u0026nbsp;fix its error, but it\u0026nbsp;just tried to\u0026nbsp;skip the index in\u0026nbsp;the first DDL and create it\u0026nbsp;in\u0026nbsp;a\u0026nbsp;separate statement, which also didn\u0026rsquo;t work.\u003c/p\u003e\n\u003cp\u003eIt\u0026nbsp;also gave me\u0026nbsp;an\u0026nbsp;explanation, that ClickHouse does not enforce NOT NULL in\u0026nbsp;not nullable columns. No\u0026nbsp;idea how it\u0026nbsp;came up\u0026nbsp;with this idea, as\u0026nbsp;ClickHouse definitely enforces the not null.\u003c/p\u003e\n\u003cp\u003eErgo, even with those good explanations, you should be\u0026nbsp;careful, as\u0026nbsp;not everything might be\u0026nbsp;correct, still, it\u0026nbsp;sounds quite convincing as\u0026nbsp;it\u0026nbsp;would be\u0026nbsp;right. (sounds like some humans you may know\u0026hellip;.)\u003c/p\u003e\n\u003ch2 id=\"query-dialects\"\u003e\u003ca href=\"#query-dialects\" class=\"yfm-anchor\" aria-hidden=\"true\"\u003e\u003cspan class=\"visually-hidden\"\u003eQuery dialects\u003c/span\u003e\u003c/a\u003eQuery dialects\u003c/h2\u003e\n\u003cp\u003eOk, so\u0026nbsp;we\u0026nbsp;saw that ChatGPT can convert DDL from one dialect to\u0026nbsp;another with some restrictions, but what about real queries?\u003c/p\u003e\n\u003cp\u003eWe\u0026nbsp;asked some of\u0026nbsp;our customers if\u0026nbsp;they can provide us\u0026nbsp;with some real queries they have to\u0026nbsp;migrate. First of\u0026nbsp;all, we\u0026nbsp;got an\u0026nbsp;example query from one of\u0026nbsp;our customers which runs on\u0026nbsp;BigQuery:\u003c/p\u003e\n\n    \u003cdiv class=\"yfm-clipboard\"\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs\"\u003eSELECT CASE\n          WHEN sq_2__search_console__period_0__ctr \u0026gt;= 0\n                AND sq_2__search_console__period_0__ctr \u0026lt; 5 THEN '0000_from_0_to_5'\n          WHEN sq_2__search_console__period_0__ctr \u0026gt;= 5\n                AND sq_2__search_console__period_0__ctr \u0026lt; 10 THEN '0001_from_5_to_10'\n          WHEN sq_2__search_console__period_0__ctr \u0026gt;= 10\n                AND sq_2__search_console__period_0__ctr \u0026lt; 20 THEN '0002_from_10_to_20'\n          WHEN sq_2__search_console__period_0__ctr \u0026gt;= 20\n                AND sq_2__search_console__period_0__ctr \u0026lt; 40 THEN '0003_from_20_to_40'\n          WHEN sq_2__search_console__period_0__ctr \u0026gt;= 40\n                AND sq_2__search_console__period_0__ctr \u0026lt; 70 THEN '0004_from_40_to_70'\n          WHEN sq_2__search_console__period_0__ctr \u0026gt;= 70 THEN '0005_from_70_to_'\n      END f_0,\n      IFNULL(SUM(sq_2__search_console__period_0__count_clicks), 0) f_1\nFROM\n  (SELECT sq_2.search_console__period_0__count_clicks sq_2__search_console__period_0__count_clicks,\n          sq_2.search_console__period_0__ctr sq_2__search_console__period_0__ctr\n  FROM\n    (SELECT ((SUM(clicks) / SUM(impressions)) * 100) search_console__period_0__ctr,\n            ANY_VALUE(url_hash) url_hash,\n            SUM(clicks) search_console__period_0__count_clicks,\n            url_keyword_hash\n      FROM\n        (SELECT *\n        FROM `production_64302.search_console_flat`\n        WHERE date BETWEEN '2023-01-28' AND '2023-02-26' )\n      GROUP BY url_keyword_hash) sq_2\n  FULL\n      OUTER JOIN\n    (SELECT *\n      FROM `.production_64302.crawl_1160774_1222833`\n      WHERE http_code \u0026lt;\u0026gt; 0 ) sq_1 ON sq_2.url_hash = sq_1.url_hash\n  WHERE NOT(sq_1.compliant__is_compliant) )\nGROUP BY f_0\nLIMIT 20000\n\u003c/code\u003e\u003c/pre\u003e\n\n    \u003csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"9\"\u003e\n        \u003cpath fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"\u003e\u003c/path\u003e\n        \u003cpath stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"\u003e\n            \u003canimate id=\"visibileAnimation-9\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin\u003e\u003c/animate\u003e\n            \u003canimate id=\"hideAnimation-9\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-9.end+1\" fill=\"freeze\"\u003e\u003c/animate\u003e\n        \u003c/path\u003e\n    \u003c/svg\u003e\n    \u003c/div\u003e\n\u003cp\u003eAs\u0026nbsp;you can see, it\u0026rsquo;s already quite complex, but this is\u0026nbsp;the real world and we\u0026nbsp;want to\u0026nbsp;see if\u0026nbsp;ChatGPT can help us\u0026nbsp;during a\u0026nbsp;migration process, and not only for fun, right? So\u0026nbsp;what do\u0026nbsp;we\u0026nbsp;get:\u003c/p\u003e\n\n    \u003cdiv class=\"yfm-clipboard\"\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs\"\u003eSELECT\n  CASE\n      WHEN sq_2__search_console__period_0__ctr \u0026gt;= 0 AND sq_2__search_console__period_0__ctr \u0026lt; 5 THEN '0000_from_0_to_5'\n      WHEN sq_2__search_console__period_0__ctr \u0026gt;= 5 AND sq_2__search_console__period_0__ctr \u0026lt; 10 THEN '0001_from_5_to_10'\n      WHEN sq_2__search_console__period_0__ctr \u0026gt;= 10 AND sq_2__search_console__period_0__ctr \u0026lt; 20 THEN '0002_from_10_to_20'\n      WHEN sq_2__search_console__period_0__ctr \u0026gt;= 20 AND sq_2__search_console__period_0__ctr \u0026lt; 40 THEN '0003_from_20_to_40'\n      WHEN sq_2__search_console__period_0__ctr \u0026gt;= 40 AND sq_2__search_console__period_0__ctr \u0026lt; 70 THEN '0004_from_40_to_70'\n      WHEN sq_2__search_console__period_0__ctr \u0026gt;= 70 THEN '0005_from_70_to_'\n  END AS f_0,\n  COALESCE(SUM(sq_2__search_console__period_0__count_clicks), 0) AS f_1\nFROM\n(\n  SELECT\n      sq_2.search_console__period_0__count_clicks AS sq_2__search_console__period_0__count_clicks,\n      sq_2.search_console__period_0__ctr AS sq_2__search_console__period_0__ctr\n  FROM\n  (\n      SELECT\n          (sum(clicks) / sum(impressions)) * 100 AS search_console__period_0__ctr,\n          anyLast(url_hash) AS url_hash,\n          sum(clicks) AS search_console__period_0__count_clicks,\n          url_keyword_hash\n      FROM\n      (\n          SELECT *\n          FROM search_console_flat\n          WHERE date BETWEEN '2023-01-28' AND '2023-02-26'\n      )\n      GROUP BY url_keyword_hash\n  ) AS sq_2\n  ANY FULL OUTER JOIN\n  (\n      SELECT *\n      FROM crawl_1160774_1222833\n      WHERE http_code \u0026lt;\u0026gt; 0\n  ) AS sq_1\n  ON sq_2.url_hash = sq_1.url_hash\n  WHERE NOT sq_1.compliant__is_compliant\n)\nGROUP BY f_0\nLIMIT 20000;\n\u003c/code\u003e\u003c/pre\u003e\n\n    \u003csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"13\"\u003e\n        \u003cpath fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"\u003e\u003c/path\u003e\n        \u003cpath stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"\u003e\n            \u003canimate id=\"visibileAnimation-13\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin\u003e\u003c/animate\u003e\n            \u003canimate id=\"hideAnimation-13\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-13.end+1\" fill=\"freeze\"\u003e\u003c/animate\u003e\n        \u003c/path\u003e\n    \u003c/svg\u003e\n    \u003c/div\u003e\n\u003cp\u003eIn\u0026nbsp;the end, it\u0026nbsp;just translated the logic, but nothing more. I\u0026nbsp;asked ChatGPT if\u0026nbsp;it\u0026nbsp;can optimize the query, and it\u0026nbsp;gave me\u0026nbsp;some useful hints, again with some good explanations for beginners to\u0026nbsp;learn.\u003c/p\u003e\n\u003cp\u003eThen I\u0026nbsp;tried to\u0026nbsp;trick it\u0026nbsp;a\u0026nbsp;little\u0026nbsp;bit. Our customer sent me\u0026nbsp;a\u0026nbsp;list of\u0026nbsp;Queries, but the tool they used, did some text encodings, so\u0026nbsp;the query was not easy to\u0026nbsp;read for the human eye anymore:\u003c/p\u003e\n\n    \u003cdiv class=\"yfm-clipboard\"\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs\"\u003eSELECT CASE WHEN sq_1__nb_words \\u003e\\u003d 1 AND sq_1__nb_words \\u003c 4 THEN \\u00270000_from_1_to_4\\u0027 WHEN sq_1__nb_words \\u003e\\u003d 4 AND sq_1__nb_words \\u003c 7 THEN \\u00270001_from_4_to_7\\u0027 WHEN sq_1__nb_words \\u003e\\u003d 7 THEN \\u00270002_from_7_to_\\u0027 END f_0, IFNULL(SUM(sq_1__search_console__period_0__count_clicks), 0) f_1 FROM (SELECT sq_1.nb_words sq_1__nb_words, sq_1.search_console__period_0__count_clicks sq_1__search_console__period_0__count_clicks FROM (SELECT ANY_VALUE(branded) branded, ANY_VALUE(nb_words) nb_words, ANY_VALUE(segments__pagetype__value) segments__pagetype__value, ANY_VALUE(url_hash) url_hash, SUM(clicks) search_console__period_0__count_clicks, url_keyword_hash FROM (SELECT * FROM `production_52366.search_console_flat` WHERE date BETWEEN \\u00272023-04-10\\u0027 AND \\u00272023-05-07\\u0027) WHERE (STARTS_WITH(segments__pagetype__value, \\u0027category/\\u0027) OR segments__pagetype__value \\u003d \\u0027category\\u0027) AND NOT(STARTS_WITH(segments__pagetype__value, \\u0027category/results-page/\\u0027) OR segments__pagetype__value \\u003d \\u0027category/results-page\\u0027) AND NOT(branded) GROUP BY url_keyword_hash) sq_1) GROUP BY f_0 LIMIT 20000\n\u003c/code\u003e\u003c/pre\u003e\n\n    \u003csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"20\"\u003e\n        \u003cpath fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"\u003e\u003c/path\u003e\n        \u003cpath stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"\u003e\n            \u003canimate id=\"visibileAnimation-20\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin\u003e\u003c/animate\u003e\n            \u003canimate id=\"hideAnimation-20\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-20.end+1\" fill=\"freeze\"\u003e\u003c/animate\u003e\n        \u003c/path\u003e\n    \u003c/svg\u003e\n    \u003c/div\u003e\n\u003cp\u003eNow ChatGPT could easily fix the encoding, and gave me\u0026nbsp;a\u0026nbsp;query, but it\u0026nbsp;was only partially in\u0026nbsp;ClickHouse dialect. For whatever reason this time it\u0026nbsp;didn\u0026rsquo;t convert the ANY_VALUE function which it\u0026nbsp;already did in\u0026nbsp;the previous example.\u003c/p\u003e\n\u003cp\u003eI\u0026nbsp;hinted at\u0026nbsp;ChatGPT to\u0026nbsp;its error, so\u0026nbsp;the next iteration of\u0026nbsp;the query then worked.\u003c/p\u003e\n\u003cp\u003eSo\u0026nbsp;in\u0026nbsp;the end, ChatGPT can help you translate queries for some PoCs, but you still need to\u0026nbsp;manage yourself to\u0026nbsp;optimise for the best performance, an\u0026nbsp;auto-conversion process won\u0026rsquo;t work.\u003c/p\u003e\n\u003ch2 id=\"build-table-schema\"\u003e\u003ca href=\"#build-table-schema\" class=\"yfm-anchor\" aria-hidden=\"true\"\u003e\u003cspan class=\"visually-hidden\"\u003eBuild table schema\u003c/span\u003e\u003c/a\u003eBuild table schema\u003c/h2\u003e\n\u003cp\u003eSpeaking of\u0026nbsp;PoCs. One of\u0026nbsp;the hardest things in\u0026nbsp;a\u0026nbsp;new project is\u0026nbsp;always the beginning. Let\u0026rsquo;s find out if\u0026nbsp;ChatGPT can help there, can it\u0026nbsp;create some basic tables for me?\u003c/p\u003e\n\u003cp\u003eAs\u0026nbsp;an\u0026nbsp;example, I\u0026nbsp;thought of\u0026nbsp;some log data to\u0026nbsp;store in\u0026nbsp;ClickHouse. I, therefore, installed collectd on\u0026nbsp;a\u0026nbsp;test machine, and let it\u0026nbsp;generate some data in\u0026nbsp;its JSON format.\u003c/p\u003e\n\u003cp\u003eThen I\u0026nbsp;took one row of\u0026nbsp;the data and asked ChatGPT to\u0026nbsp;provide me\u0026nbsp;with an\u0026nbsp;efficient table structure based on\u0026nbsp;the single JSON row. I\u0026nbsp;gave it\u0026nbsp;some context, that it\u0026nbsp;is\u0026nbsp;log data collected and that I\u0026nbsp;want to\u0026nbsp;store it\u0026nbsp;as\u0026nbsp;efficiently as\u0026nbsp;possible.\u003c/p\u003e\n\u003cp\u003eThe sample data i\u0026nbsp;used looked like this:\u003c/p\u003e\n\u003cp\u003e[{\"values\u0026rdquo;:[0],\"dstypes\u0026rdquo;:[\u0026ldquo;gauge\u0026rdquo;],\"dsnames\u0026rdquo;:[\u0026ldquo;value\u0026rdquo;],\"time\u0026rdquo;:1684941133.135,\"interval\u0026rdquo;:10.000,\"host\u0026rdquo;:\"loki\u0026rdquo;,\"plugin\u0026rdquo;:\"cpu\u0026rdquo;,\"plugin_instance\u0026rdquo;:\"5\u0026rdquo;,\"type\u0026rdquo;:\"percent\u0026rdquo;,\"type_instance\u0026rdquo;:\"interrupt\"}]\u003c/p\u003e\n\u003cp\u003eChatGPT provided the following table structure:\u003c/p\u003e\n\n    \u003cdiv class=\"yfm-clipboard\"\u003e\n    \u003cpre\u003e\u003ccode class=\"hljs\"\u003eCREATE TABLE my_table (\n  values Array(Float64),\n  dstypes Array(String),\n  dsnames Array(String),\n  time Float64,\n  interval Float64,\n  host String,\n  plugin String,\n  plugin_instance String,\n  type String,\n  type_instance String\n) ENGINE = MergeTree()\nORDER BY time;\n\u003c/code\u003e\u003c/pre\u003e\n\n    \u003csvg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" class=\"yfm-clipboard-button\" data-animation=\"51\"\u003e\n        \u003cpath fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"\u003e\u003c/path\u003e\n        \u003cpath stroke=\"currentColor\" fill=\"transparent\" stroke-width=\"1.5\" d=\"M9.5 13l3 3l5 -5\" visibility=\"hidden\"\u003e\n            \u003canimate id=\"visibileAnimation-51\" attributeName=\"visibility\" from=\"hidden\" to=\"visible\" dur=\"0.2s\" fill=\"freeze\" begin\u003e\u003c/animate\u003e\n            \u003canimate id=\"hideAnimation-51\" attributeName=\"visibility\" from=\"visible\" to=\"hidden\" dur=\"1s\" begin=\"visibileAnimation-51.end+1\" fill=\"freeze\"\u003e\u003c/animate\u003e\n        \u003c/path\u003e\n    \u003c/svg\u003e\n    \u003c/div\u003e\n\u003cp\u003eActually, I\u0026nbsp;think it\u0026rsquo;s quite impressive, what it\u0026nbsp;can create out of\u0026nbsp;so\u0026nbsp;little information, but you can easily see there is\u0026nbsp;little to\u0026nbsp;no\u0026nbsp;optimization. Typically you would use LowCardinality for most of\u0026nbsp;the String columns, as\u0026nbsp;it\u0026rsquo;s not likely to\u0026nbsp;have millions of\u0026nbsp;different hosts or\u0026nbsp;plugins. Also, the chosen ORDER BY\u0026nbsp;time is\u0026nbsp;suboptimal for storing a\u0026nbsp;lot of\u0026nbsp;log data.\u003c/p\u003e\n\u003cp\u003eIt\u0026nbsp;explains that with this ORDER BY, you can facilitate efficient querying of\u0026nbsp;time series data. Still, ChatGPT forgets to\u0026nbsp;mention that it\u0026nbsp;will also lead to\u0026nbsp;bad data locality and therefore not good compression.\u003c/p\u003e\n\u003cp\u003eEven when explicitly asking for a\u0026nbsp;more optimized version, it\u0026nbsp;just gave me\u0026nbsp;general hints on\u0026nbsp;what could be\u0026nbsp;done, but not specific enough to\u0026nbsp;be\u0026nbsp;useful for automation.\u003c/p\u003e\n\u003ch2 id=\"conclusion\"\u003e\u003ca href=\"#conclusion\" class=\"yfm-anchor\" aria-hidden=\"true\"\u003e\u003cspan class=\"visually-hidden\"\u003eConclusion\u003c/span\u003e\u003c/a\u003eConclusion\u003c/h2\u003e\n\u003cp\u003eSo\u0026nbsp;in\u0026nbsp;the end, one must say ChatGPT is\u0026nbsp;a\u0026nbsp;fantastic tool for some fast ramp-ups, but it\u0026nbsp;definitely lacks the experience of\u0026nbsp;a\u0026nbsp;database expert. You can use it\u0026nbsp;for some early prototypes, or\u0026nbsp;for giving you some valuable information, but it\u0026rsquo;s still far away from using it\u0026nbsp;as\u0026nbsp;an\u0026nbsp;automatism to\u0026nbsp;generate your Database Architecture or\u0026nbsp;optimize queries from one dialect to\u0026nbsp;another.\u003c/p\u003e\n","sharing":{"title":"Can ChatGPT do ClickHouse?","description":"\u003cp\u003eWritten By: Stefan Kaeser, DoubleCloud Solution Architect\u003c/p\u003e","image":"/assets/blog/articles/chatgpt-clickhouse-sharing.jpg","shareGenImage":"","shareGenTitle":"Can ChatGPT do ClickHouse?"},"keywords":["chat-gpt","ai","sql"],"noIndex":false,"authors":[],"tags":[{"icon":null,"slug":"insights","name":"Insights","createdAt":"","updatedAt":"","count":0},{"icon":null,"slug":"ClickHouse","name":"ClickHouse","createdAt":"","updatedAt":"","count":0}],"metaSchema":{"@context":"https://schema.org","@graph":[{"@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"insights","name":"Insights"}},{"@type":"ListItem","position":2,"item":{"@id":"ClickHouse","name":"ClickHouse"}}]},{"@type":"BlogPosting","@id":"https://double.cloud/blog/posts/2023/06/chatgpt-clickhouse/","url":"https://double.cloud/blog/posts/2023/06/chatgpt-clickhouse/","name":"Can ChatGPT do ClickHouse?","headline":"Can ChatGPT do ClickHouse?","abstract":"\u003cp\u003eWritten By: Stefan Kaeser, DoubleCloud Solution Architect\u003c/p\u003e","description":"\u003cp\u003eWritten By: Stefan Kaeser, DoubleCloud Solution Architect\u003c/p\u003e","dateCreated":"2023-06-08T00:00:00Z","datePublished":"2023-06-08T00:00:00Z","dateModified":"2023-06-08T00:00:00Z","author":{"@type":"Organization","name":"DoubleCloud","legalName":"DoubleCloud Inc","url":"https://double.cloud/","logo":{"@type":"ImageObject","url":"","width":32,"height":32}},"creator":{"@type":"Organization","name":"DoubleCloud","legalName":"DoubleCloud Inc","url":"https://double.cloud/","logo":{"@type":"ImageObject","url":"","width":32,"height":32}},"publisher":{"@type":"Organization","name":"DoubleCloud","legalName":"DoubleCloud Inc","url":"https://double.cloud/","logo":{"@type":"ImageObject","url":"","width":32,"height":32}},"copyrightHolder":{"@type":"Organization","name":"DoubleCloud","legalName":"DoubleCloud Inc","url":"https://double.cloud/","logo":{"@type":"ImageObject","url":"","width":32,"height":32}},"copyrightYear":2025,"mainEntityOfPage":{"@type":"WebPage","@id":"https://double.cloud/blog/posts/2023/06/chatgpt-clickhouse/"},"inLanguage":{"@type":"Language","name":"English","alternateName":"en"},"keywords":["Insights","ClickHouse"],"image":"https://double.cloud/assets/blog/articles/chatgpt-clickhouse-small-cover.jpg","sharedContent":{"@type":"WebPage","headline":"Can ChatGPT do ClickHouse?","url":"https://double.cloud/blog/posts/2023/06/chatgpt-clickhouse/","author":{"@type":"Organization","name":"DoubleCloud","legalName":"DoubleCloud Inc","url":"https://double.cloud/","logo":{"@type":"ImageObject","url":"","width":32,"height":32}}},"wordCount":"","articleBody":""}]}},"routingData":{"hostname":"double.cloud"},"deviceData":{"isRobot":true,"isMobile":false,"isTablet":false},"csrfToken":"kMeT5jbc-ehAZ7-kud_3MdENeiIJdw1KzcZw","clientConfig":{"appTitle":"DoubleCloud","legalName":"DoubleCloud Inc","supportEmail":"","hosts":{"site":"https://double.cloud","console":"https://app.double.cloud"}},"ignoreConsent":false,"noNextImg":false,"noSnippet":null},"__N_SSP":true},"page":"/blog/posts/[...slug]","query":{"slug":["2023","06","chatgpt-clickhouse"]},"buildId":"HkxA3M0ES7gp3V0n_0ecw","isFallback":false,"gssp":true,"locale":"en","locales":["en"],"defaultLocale":"en","scriptLoader":[]}</script></body></html>